<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>social network analysis | Muhammad Chenariyan Nakhaee</title>
    <link>/categories/social-network-analysis/</link>
      <atom:link href="/categories/social-network-analysis/index.xml" rel="self" type="application/rss+xml" />
    <description>social network analysis</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Tue, 20 Oct 2020 00:00:00 +0000</lastBuildDate>
    <image>
      <url>/img/avatar.jpg</url>
      <title>social network analysis</title>
      <link>/categories/social-network-analysis/</link>
    </image>
    
    <item>
      <title>Interactive Graphs with Echarts4r and Tidygraph</title>
      <link>/post/2020-10-20-interactive-graphs-with-echarts4r-and-tidygraph/</link>
      <pubDate>Tue, 20 Oct 2020 00:00:00 +0000</pubDate>
      <guid>/post/2020-10-20-interactive-graphs-with-echarts4r-and-tidygraph/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/echarts4r/echarts-en.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/echarts4r/ecStat.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/echarts4r/dataTool.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/echarts4r-binding/echarts4r.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/echarts-gl/echarts-gl.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/echarts-modularity/echarts-graph-modularity.min.js&#34;&gt;&lt;/script&gt;


&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(echarts4r)
library(tidygraph)
library(tidyverse)
library(ggraph)
library(ggthemes)
theme_set(theme_graph())
theme_update(
  #plot.background = element_rect(fill = &amp;#39;#FDF6E3&amp;#39;),
  panel.background = element_rect(fill = &amp;#39;#FDF6E3&amp;#39;),
  legend.position = &amp;#39;top&amp;#39;
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data &amp;lt;- read_csv(&amp;#39;strategic_rivalries.csv&amp;#39;)
data&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 197 x 10
##    rivalryno rivalryname   sidea  sideb  styear endyear region type1 type2 type3
##        &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;         &amp;lt;chr&amp;gt;  &amp;lt;chr&amp;gt;   &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;  &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;
##  1         1 Austria-Fran~ Austr~ France   1494    1918 Europ~ spat~ posi~ &amp;lt;NA&amp;gt; 
##  2         2 Austria-Otto~ Austr~ Ottom~   1494    1908 Europ~ spat~ posi~ &amp;lt;NA&amp;gt; 
##  3         4 France-Spain  France Spain    1494    1700 Europ~ posi~ spat~ &amp;lt;NA&amp;gt; 
##  4         3 Britain-Fran~ Great~ France   1494    1716 Europ~ spat~ posi~ &amp;lt;NA&amp;gt; 
##  5         5 Ottoman Empi~ Ottom~ Spain    1494    1585 Europ~ spat~ posi~ &amp;lt;NA&amp;gt; 
##  6         6 Ottoman Empi~ Ottom~ Venice   1494    1717 Europ~ spat~ posi~ &amp;lt;NA&amp;gt; 
##  7         7 Portugal-Spa~ Portu~ Spain    1494    1580 Europ~ spat~ posi~ &amp;lt;NA&amp;gt; 
##  8         8 Portugal-Ven~ Portu~ Venice   1494    1580 Europ~ posi~ &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt; 
##  9         9 Ottoman Empi~ Ottom~ Portu~   1501    1580 Europ~ posi~ &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt; 
## 10        10 Britain-Spai~ Brita~ Spain    1568    1667 Europ~ posi~ spat~ &amp;lt;NA&amp;gt; 
## # ... with 187 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;graph_edges_tbl &amp;lt;- data %&amp;gt;%
  filter(endyear&amp;gt;1900) %&amp;gt;% 
rename(from = sidea, to = sideb) 
  

ggraph_df &amp;lt;-  graph_edges_tbl  %&amp;gt;%  
    as_tbl_graph(directed  = FALSE) %&amp;gt;%
      activate(nodes) %&amp;gt;%
      mutate(
        betweenness_degree = centrality_betweenness(),
        centrality_degree = centrality_degree(),
        community = as.factor(group_louvain())
      ) 
      
graph_nodes_tbl &amp;lt;- ggraph_df %&amp;gt;%
    as_tibble()
node_names &amp;lt;- graph_nodes_tbl %&amp;gt;% distinct(name) %&amp;gt;%pull()
node_size &amp;lt;- graph_nodes_tbl%&amp;gt;% pull(centrality_degree)
node_group &amp;lt;- graph_nodes_tbl%&amp;gt;%pull(community) &lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggraph_df %&amp;gt;% 
  ggraph(layout = &amp;#39;nicely&amp;#39;) +

  geom_edge_link(width = 1,alpha = 0.7,color = &amp;#39;#e76f51&amp;#39;) +
    geom_node_text(aes(label = name,color =community ),size = 5,repel = TRUE) +
  geom_node_point(aes(size = betweenness_degree,color =community )) +
  #scale_color_tableau() +
  scale_edge_color_manual(values = c(&amp;#39;#118ab2&amp;#39;, &amp;#39;#ef476f&amp;#39;,&amp;#39;#2a9d8f&amp;#39;,&amp;#39;#e76f51&amp;#39;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-10-20-interactive-graphs-with-echarts4r-and-tidygraph/index.en_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;1920&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;graph_edges_tbl &amp;lt;- graph_edges_tbl %&amp;gt;% 
  mutate(edge_color = case_when(type1 == &amp;#39;ideological&amp;#39; ~ &amp;#39;#2a9d8f&amp;#39;,
                                type1 == &amp;#39;interventionary&amp;#39; ~ &amp;#39;#e76f51&amp;#39;,
                                type1 == &amp;#39;positional&amp;#39; ~ &amp;#39;#ef476f&amp;#39;,
                                type1 == &amp;#39;spatial&amp;#39; ~ &amp;#39;#118ab2&amp;#39;))
dim(graph_edges_tbl)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 162  11&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;edges &amp;lt;- data.frame(
  source = graph_edges_tbl$from,
  target = graph_edges_tbl$to,
  categories = graph_edges_tbl$type1,
  stringsAsFactors = FALSE
)
nodes &amp;lt;- data.frame(
  name = node_names,
  value = node_size,
  size = node_size*3,
  grp = node_group,
  symbol =  &amp;quot;circle&amp;quot;,
  stringsAsFactors = FALSE
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rep(&amp;#39;gray70&amp;#39;,length(graph_edges_tbl))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;gray70&amp;quot; &amp;quot;gray70&amp;quot; &amp;quot;gray70&amp;quot; &amp;quot;gray70&amp;quot; &amp;quot;gray70&amp;quot; &amp;quot;gray70&amp;quot; &amp;quot;gray70&amp;quot; &amp;quot;gray70&amp;quot;
##  [9] &amp;quot;gray70&amp;quot; &amp;quot;gray70&amp;quot; &amp;quot;gray70&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#,timeline = TRUE
e_charts() %&amp;gt;% 
  e_graph(layout = &amp;#39;force&amp;#39;,
                    roam = T,
          draggable = T,
          cursor= &amp;#39;pointer&amp;#39;,
          # symbol = paste0(&amp;#39;path://&amp;#39;, figure),  # It works, but all the node share same figure.
          symbolKeepAspect = T,
          focusNodeAdjacency = T,
          # animation  = TRUE,
          #edgeSymbol = c(&amp;#39;circle&amp;#39;, &amp;#39;arrow&amp;#39;),
          #itemStyle = list(color = &amp;#39;black&amp;#39;, borderColor=&amp;#39;black&amp;#39;),
          lineStyle = list(color = &amp;#39;target&amp;#39;,width = 2,curveness= 0.1),
        
          #category = list(symbol = node_group),
         # textBorderColor = &amp;#39;transparent&amp;#39;,
          force.gravity = 2.9, edgeLabel = 1) %&amp;gt;% 
  e_graph_nodes(nodes, name, value, size, grp, symbol,legend = T) %&amp;gt;% 
  e_graph_edges(edges, source, target  ) %&amp;gt;% 
  e_title(&amp;quot;Strategic Rivalry Between Nations and States&amp;quot;,subtext = &amp;#39;Strategic Rivalry Between Nations and States&amp;#39;) %&amp;gt;% 
  e_modularity() %&amp;gt;% 
  e_labels(fontSize = 12) %&amp;gt;% 
  e_toolbox_feature(feature = &amp;quot;saveAsImage&amp;quot;, title = &amp;quot;Save As Image&amp;quot;) %&amp;gt;% 
  e_legend(show = T,type = &amp;quot;plain&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-1&#34; style=&#34;width:100%;height:500px;&#34; class=&#34;echarts4r html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;theme&#34;:&#34;default&#34;,&#34;tl&#34;:false,&#34;draw&#34;:true,&#34;renderer&#34;:&#34;canvas&#34;,&#34;events&#34;:[],&#34;buttons&#34;:[],&#34;opts&#34;:{&#34;series&#34;:[{&#34;name&#34;:null,&#34;type&#34;:&#34;graph&#34;,&#34;layout&#34;:&#34;force&#34;,&#34;roam&#34;:true,&#34;draggable&#34;:true,&#34;cursor&#34;:&#34;pointer&#34;,&#34;symbolKeepAspect&#34;:true,&#34;focusNodeAdjacency&#34;:true,&#34;lineStyle&#34;:{&#34;color&#34;:&#34;target&#34;,&#34;width&#34;:2,&#34;curveness&#34;:0.1},&#34;force.gravity&#34;:2.9,&#34;edgeLabel&#34;:1,&#34;categories&#34;:[{&#34;name&#34;:&#34;1&#34;},{&#34;name&#34;:&#34;2&#34;},{&#34;name&#34;:&#34;4&#34;},{&#34;name&#34;:&#34;5&#34;},{&#34;name&#34;:&#34;6&#34;},{&#34;name&#34;:&#34;3&#34;},{&#34;name&#34;:&#34;12&#34;},{&#34;name&#34;:&#34;13&#34;},{&#34;name&#34;:&#34;11&#34;},{&#34;name&#34;:&#34;9&#34;},{&#34;name&#34;:&#34;8&#34;},{&#34;name&#34;:&#34;14&#34;},{&#34;name&#34;:&#34;10&#34;},{&#34;name&#34;:&#34;7&#34;},{&#34;name&#34;:&#34;15&#34;},{&#34;name&#34;:&#34;16&#34;},{&#34;name&#34;:&#34;17&#34;},{&#34;name&#34;:&#34;18&#34;}],&#34;data&#34;:[{&#34;name&#34;:&#34;Austria&#34;,&#34;value&#34;:&#34; 5&#34;,&#34;symbolSize&#34;:&#34;15&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Ottoman Empire&#34;,&#34;value&#34;:&#34; 7&#34;,&#34;symbolSize&#34;:&#34;21&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Britain&#34;,&#34;value&#34;:&#34; 7&#34;,&#34;symbolSize&#34;:&#34;21&#34;,&#34;category&#34;:&#34;2&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;France&#34;,&#34;value&#34;:&#34; 4&#34;,&#34;symbolSize&#34;:&#34;12&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Afghanistan&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;4&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;China&#34;,&#34;value&#34;:&#34; 9&#34;,&#34;symbolSize&#34;:&#34;27&#34;,&#34;category&#34;:&#34;2&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Iran&#34;,&#34;value&#34;:&#34; 9&#34;,&#34;symbolSize&#34;:&#34;27&#34;,&#34;category&#34;:&#34;4&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Argentina&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;5&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Bolivia&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;5&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Colombia&#34;,&#34;value&#34;:&#34; 4&#34;,&#34;symbolSize&#34;:&#34;12&#34;,&#34;category&#34;:&#34;5&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Greece&#34;,&#34;value&#34;:&#34; 5&#34;,&#34;symbolSize&#34;:&#34;15&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Ecuador&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;5&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Chile&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;5&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;El Salvador&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;6&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Honduras&#34;,&#34;value&#34;:&#34; 4&#34;,&#34;symbolSize&#34;:&#34;12&#34;,&#34;category&#34;:&#34;6&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Guatemala&#34;,&#34;value&#34;:&#34; 4&#34;,&#34;symbolSize&#34;:&#34;12&#34;,&#34;category&#34;:&#34;6&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Bulgaria&#34;,&#34;value&#34;:&#34; 4&#34;,&#34;symbolSize&#34;:&#34;12&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Ethiopia&#34;,&#34;value&#34;:&#34; 4&#34;,&#34;symbolSize&#34;:&#34;12&#34;,&#34;category&#34;:&#34;3&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Italy&#34;,&#34;value&#34;:&#34; 6&#34;,&#34;symbolSize&#34;:&#34;18&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Germany&#34;,&#34;value&#34;:&#34; 7&#34;,&#34;symbolSize&#34;:&#34;21&#34;,&#34;category&#34;:&#34;2&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Japan&#34;,&#34;value&#34;:&#34; 5&#34;,&#34;symbolSize&#34;:&#34;15&#34;,&#34;category&#34;:&#34;2&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Albania&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Hungary&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Poland&#34;,&#34;value&#34;:&#34; 4&#34;,&#34;symbolSize&#34;:&#34;12&#34;,&#34;category&#34;:&#34;2&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Lithuania&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;2&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Czechoslovakia&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;2&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Costa Rica&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;6&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Iraq&#34;,&#34;value&#34;:&#34; 8&#34;,&#34;symbolSize&#34;:&#34;24&#34;,&#34;category&#34;:&#34;4&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Saudi Arabia&#34;,&#34;value&#34;:&#34; 8&#34;,&#34;symbolSize&#34;:&#34;24&#34;,&#34;category&#34;:&#34;4&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Egypt&#34;,&#34;value&#34;:&#34; 9&#34;,&#34;symbolSize&#34;:&#34;27&#34;,&#34;category&#34;:&#34;4&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Russia&#34;,&#34;value&#34;:&#34;11&#34;,&#34;symbolSize&#34;:&#34;33&#34;,&#34;category&#34;:&#34;2&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Jordan&#34;,&#34;value&#34;:&#34; 4&#34;,&#34;symbolSize&#34;:&#34;12&#34;,&#34;category&#34;:&#34;4&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Syria&#34;,&#34;value&#34;:&#34; 6&#34;,&#34;symbolSize&#34;:&#34;18&#34;,&#34;category&#34;:&#34;4&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;India&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;2&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Israel&#34;,&#34;value&#34;:&#34; 5&#34;,&#34;symbolSize&#34;:&#34;15&#34;,&#34;category&#34;:&#34;4&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;North Korea&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;12&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;West Germany&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;13&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Indonesia&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;11&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;North Vietnam&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;9&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Thailand&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;9&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Cambodia&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;9&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Morocco&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;8&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Cuba&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;2&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Burkina Faso&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;14&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Ghana&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;10&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Mauritania&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;8&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Algeria&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;8&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Burundi&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;3&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Kenya&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;3&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Sudan&#34;,&#34;value&#34;:&#34; 9&#34;,&#34;symbolSize&#34;:&#34;27&#34;,&#34;category&#34;:&#34;3&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Chad&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;3&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Malawi&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;7&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Malaysia&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;11&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Rhodesia&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;7&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;South Africa&#34;,&#34;value&#34;:&#34; 4&#34;,&#34;symbolSize&#34;:&#34;12&#34;,&#34;category&#34;:&#34;7&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Guyana&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;5&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;South Yemen&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;4&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Tanzania&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;7&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Equatorial Guinea&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;15&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Oman&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;4&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Libya&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;3&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Angola&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;3&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Cameroon&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;10&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Mozambique&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;7&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Belize&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;6&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Bahrain&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;16&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Guinea Bissau&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;8&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Armenia&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;17&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Croatia&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Kazakhstan&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;18&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Bosnia&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Eritrea&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;3&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Democratic Republic of Congo&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;3&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Djibouti&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;3&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Rwanda&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;3&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Prussia&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;United States&#34;,&#34;value&#34;:&#34; 9&#34;,&#34;symbolSize&#34;:&#34;27&#34;,&#34;category&#34;:&#34;2&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Brazil&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;5&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Peru&#34;,&#34;value&#34;:&#34; 4&#34;,&#34;symbolSize&#34;:&#34;12&#34;,&#34;category&#34;:&#34;5&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Venezuela&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;5&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Nicaragua&#34;,&#34;value&#34;:&#34; 5&#34;,&#34;symbolSize&#34;:&#34;15&#34;,&#34;category&#34;:&#34;6&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Romania&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Serbia&#34;,&#34;value&#34;:&#34; 9&#34;,&#34;symbolSize&#34;:&#34;27&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Paraguay&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;5&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Panama&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;6&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Yemen&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;4&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Turkey&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;1&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Pakistan&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;2&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;South Korea&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;12&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Taiwan&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;2&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;East Germany&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;13&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Netherlands&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;11&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;South Vietnam&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;9&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Vietnam&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;9&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Spain&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;8&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Mali&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;14&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Somalia&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;3&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Ivory Coast&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;10&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Nigeria&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;10&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Togo&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;10&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Kuwait&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;4&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Uganda&#34;,&#34;value&#34;:&#34; 6&#34;,&#34;symbolSize&#34;:&#34;18&#34;,&#34;category&#34;:&#34;3&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Zambia&#34;,&#34;value&#34;:&#34; 3&#34;,&#34;symbolSize&#34;:&#34; 9&#34;,&#34;category&#34;:&#34;7&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Great Britain&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;5&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Singapore&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;11&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Gabon&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;15&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Zimbabwe&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;7&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Qatar&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;16&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Senegal&#34;,&#34;value&#34;:&#34; 2&#34;,&#34;symbolSize&#34;:&#34; 6&#34;,&#34;category&#34;:&#34;8&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Azerbaijan&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;17&#34;,&#34;symbol&#34;:&#34;circle&#34;},{&#34;name&#34;:&#34;Uzbekistan&#34;,&#34;value&#34;:&#34; 1&#34;,&#34;symbolSize&#34;:&#34; 3&#34;,&#34;category&#34;:&#34;18&#34;,&#34;symbol&#34;:&#34;circle&#34;}],&#34;links&#34;:[{&#34;source&#34;:&#34;Austria&#34;,&#34;target&#34;:&#34;France&#34;},{&#34;source&#34;:&#34;Austria&#34;,&#34;target&#34;:&#34;Ottoman Empire&#34;},{&#34;source&#34;:&#34;Ottoman Empire&#34;,&#34;target&#34;:&#34;Russia&#34;},{&#34;source&#34;:&#34;Britain&#34;,&#34;target&#34;:&#34;France&#34;},{&#34;source&#34;:&#34;France&#34;,&#34;target&#34;:&#34;Prussia&#34;},{&#34;source&#34;:&#34;Austria&#34;,&#34;target&#34;:&#34;Russia&#34;},{&#34;source&#34;:&#34;Britain&#34;,&#34;target&#34;:&#34;Russia&#34;},{&#34;source&#34;:&#34;Afghanistan&#34;,&#34;target&#34;:&#34;Iran&#34;},{&#34;source&#34;:&#34;Britain&#34;,&#34;target&#34;:&#34;United States&#34;},{&#34;source&#34;:&#34;China&#34;,&#34;target&#34;:&#34;Russia&#34;},{&#34;source&#34;:&#34;Iran&#34;,&#34;target&#34;:&#34;Ottoman Empire&#34;},{&#34;source&#34;:&#34;Argentina&#34;,&#34;target&#34;:&#34;Brazil&#34;},{&#34;source&#34;:&#34;Bolivia&#34;,&#34;target&#34;:&#34;Peru&#34;},{&#34;source&#34;:&#34;Colombia&#34;,&#34;target&#34;:&#34;Peru&#34;},{&#34;source&#34;:&#34;Greece&#34;,&#34;target&#34;:&#34;Ottoman Empire&#34;},{&#34;source&#34;:&#34;Colombia&#34;,&#34;target&#34;:&#34;Ecuador&#34;},{&#34;source&#34;:&#34;Ecuador&#34;,&#34;target&#34;:&#34;Peru&#34;},{&#34;source&#34;:&#34;Colombia&#34;,&#34;target&#34;:&#34;Venezuela&#34;},{&#34;source&#34;:&#34;Chile&#34;,&#34;target&#34;:&#34;Peru&#34;},{&#34;source&#34;:&#34;Bolivia&#34;,&#34;target&#34;:&#34;Chile&#34;},{&#34;source&#34;:&#34;El Salvador&#34;,&#34;target&#34;:&#34;Honduras&#34;},{&#34;source&#34;:&#34;El Salvador&#34;,&#34;target&#34;:&#34;Guatemala&#34;},{&#34;source&#34;:&#34;Argentina&#34;,&#34;target&#34;:&#34;Chile&#34;},{&#34;source&#34;:&#34;Honduras&#34;,&#34;target&#34;:&#34;Nicaragua&#34;},{&#34;source&#34;:&#34;Austria&#34;,&#34;target&#34;:&#34;Italy&#34;},{&#34;source&#34;:&#34;Guatemala&#34;,&#34;target&#34;:&#34;Honduras&#34;},{&#34;source&#34;:&#34;Guatemala&#34;,&#34;target&#34;:&#34;Nicaragua&#34;},{&#34;source&#34;:&#34;China&#34;,&#34;target&#34;:&#34;Japan&#34;},{&#34;source&#34;:&#34;Bulgaria&#34;,&#34;target&#34;:&#34;Romania&#34;},{&#34;source&#34;:&#34;Bulgaria&#34;,&#34;target&#34;:&#34;Greece&#34;},{&#34;source&#34;:&#34;Bulgaria&#34;,&#34;target&#34;:&#34;Ottoman Empire&#34;},{&#34;source&#34;:&#34;Bulgaria&#34;,&#34;target&#34;:&#34;Serbia&#34;},{&#34;source&#34;:&#34;Ottoman Empire&#34;,&#34;target&#34;:&#34;Serbia&#34;},{&#34;source&#34;:&#34;Greece&#34;,&#34;target&#34;:&#34;Serbia&#34;},{&#34;source&#34;:&#34;France&#34;,&#34;target&#34;:&#34;Italy&#34;},{&#34;source&#34;:&#34;Ethiopia&#34;,&#34;target&#34;:&#34;Italy&#34;},{&#34;source&#34;:&#34;Italy&#34;,&#34;target&#34;:&#34;Ottoman Empire&#34;},{&#34;source&#34;:&#34;Bolivia&#34;,&#34;target&#34;:&#34;Paraguay&#34;},{&#34;source&#34;:&#34;Germany&#34;,&#34;target&#34;:&#34;United States&#34;},{&#34;source&#34;:&#34;Germany&#34;,&#34;target&#34;:&#34;Russia&#34;},{&#34;source&#34;:&#34;Japan&#34;,&#34;target&#34;:&#34;Russia&#34;},{&#34;source&#34;:&#34;Britain&#34;,&#34;target&#34;:&#34;Germany&#34;},{&#34;source&#34;:&#34;Japan&#34;,&#34;target&#34;:&#34;United States&#34;},{&#34;source&#34;:&#34;Austria&#34;,&#34;target&#34;:&#34;Serbia&#34;},{&#34;source&#34;:&#34;Albania&#34;,&#34;target&#34;:&#34;Greece&#34;},{&#34;source&#34;:&#34;Germany&#34;,&#34;target&#34;:&#34;Poland&#34;},{&#34;source&#34;:&#34;Hungary&#34;,&#34;target&#34;:&#34;Romania&#34;},{&#34;source&#34;:&#34;Hungary&#34;,&#34;target&#34;:&#34;Serbia&#34;},{&#34;source&#34;:&#34;Italy&#34;,&#34;target&#34;:&#34;Serbia&#34;},{&#34;source&#34;:&#34;Poland&#34;,&#34;target&#34;:&#34;Russia&#34;},{&#34;source&#34;:&#34;Lithuania&#34;,&#34;target&#34;:&#34;Poland&#34;},{&#34;source&#34;:&#34;Czechoslovakia&#34;,&#34;target&#34;:&#34;Hungary&#34;},{&#34;source&#34;:&#34;Czechoslovakia&#34;,&#34;target&#34;:&#34;Poland&#34;},{&#34;source&#34;:&#34;Costa Rica&#34;,&#34;target&#34;:&#34;Panama&#34;},{&#34;source&#34;:&#34;Britain&#34;,&#34;target&#34;:&#34;Japan&#34;},{&#34;source&#34;:&#34;Iran&#34;,&#34;target&#34;:&#34;Iraq&#34;},{&#34;source&#34;:&#34;Iraq&#34;,&#34;target&#34;:&#34;Saudi Arabia&#34;},{&#34;source&#34;:&#34;Saudi Arabia&#34;,&#34;target&#34;:&#34;Yemen&#34;},{&#34;source&#34;:&#34;Czechoslovakia&#34;,&#34;target&#34;:&#34;Germany&#34;},{&#34;source&#34;:&#34;Germany&#34;,&#34;target&#34;:&#34;United States&#34;},{&#34;source&#34;:&#34;Britain&#34;,&#34;target&#34;:&#34;Germany&#34;},{&#34;source&#34;:&#34;Britain&#34;,&#34;target&#34;:&#34;Italy&#34;},{&#34;source&#34;:&#34;Egypt&#34;,&#34;target&#34;:&#34;Iraq&#34;},{&#34;source&#34;:&#34;Russia&#34;,&#34;target&#34;:&#34;United States&#34;},{&#34;source&#34;:&#34;Egypt&#34;,&#34;target&#34;:&#34;Jordan&#34;},{&#34;source&#34;:&#34;Iraq&#34;,&#34;target&#34;:&#34;Syria&#34;},{&#34;source&#34;:&#34;Jordan&#34;,&#34;target&#34;:&#34;Saudi Arabia&#34;},{&#34;source&#34;:&#34;Jordan&#34;,&#34;target&#34;:&#34;Syria&#34;},{&#34;source&#34;:&#34;Syria&#34;,&#34;target&#34;:&#34;Turkey&#34;},{&#34;source&#34;:&#34;Afghanistan&#34;,&#34;target&#34;:&#34;Pakistan&#34;},{&#34;source&#34;:&#34;India&#34;,&#34;target&#34;:&#34;Pakistan&#34;},{&#34;source&#34;:&#34;China&#34;,&#34;target&#34;:&#34;India&#34;},{&#34;source&#34;:&#34;Costa Rica&#34;,&#34;target&#34;:&#34;Nicaragua&#34;},{&#34;source&#34;:&#34;Egypt&#34;,&#34;target&#34;:&#34;Israel&#34;},{&#34;source&#34;:&#34;Iraq&#34;,&#34;target&#34;:&#34;Israel&#34;},{&#34;source&#34;:&#34;Israel&#34;,&#34;target&#34;:&#34;Jordan&#34;},{&#34;source&#34;:&#34;Israel&#34;,&#34;target&#34;:&#34;Syria&#34;},{&#34;source&#34;:&#34;North Korea&#34;,&#34;target&#34;:&#34;South Korea&#34;},{&#34;source&#34;:&#34;Russia&#34;,&#34;target&#34;:&#34;Serbia&#34;},{&#34;source&#34;:&#34;China&#34;,&#34;target&#34;:&#34;Taiwan&#34;},{&#34;source&#34;:&#34;China&#34;,&#34;target&#34;:&#34;United States&#34;},{&#34;source&#34;:&#34;West Germany&#34;,&#34;target&#34;:&#34;East Germany&#34;},{&#34;source&#34;:&#34;Indonesia&#34;,&#34;target&#34;:&#34;Netherlands&#34;},{&#34;source&#34;:&#34;North Vietnam&#34;,&#34;target&#34;:&#34;South Vietnam&#34;},{&#34;source&#34;:&#34;Thailand&#34;,&#34;target&#34;:&#34;Vietnam&#34;},{&#34;source&#34;:&#34;Egypt&#34;,&#34;target&#34;:&#34;Iran&#34;},{&#34;source&#34;:&#34;Greece&#34;,&#34;target&#34;:&#34;Turkey&#34;},{&#34;source&#34;:&#34;Cambodia&#34;,&#34;target&#34;:&#34;South Vietnam&#34;},{&#34;source&#34;:&#34;Morocco&#34;,&#34;target&#34;:&#34;Spain&#34;},{&#34;source&#34;:&#34;Egypt&#34;,&#34;target&#34;:&#34;Saudi Arabia&#34;},{&#34;source&#34;:&#34;China&#34;,&#34;target&#34;:&#34;Russia&#34;},{&#34;source&#34;:&#34;Iran&#34;,&#34;target&#34;:&#34;Iraq&#34;},{&#34;source&#34;:&#34;Cuba&#34;,&#34;target&#34;:&#34;United States&#34;},{&#34;source&#34;:&#34;Burkina Faso&#34;,&#34;target&#34;:&#34;Mali&#34;},{&#34;source&#34;:&#34;Ethiopia&#34;,&#34;target&#34;:&#34;Somalia&#34;},{&#34;source&#34;:&#34;Ghana&#34;,&#34;target&#34;:&#34;Ivory Coast&#34;},{&#34;source&#34;:&#34;Ghana&#34;,&#34;target&#34;:&#34;Nigeria&#34;},{&#34;source&#34;:&#34;Ghana&#34;,&#34;target&#34;:&#34;Togo&#34;},{&#34;source&#34;:&#34;Mauritania&#34;,&#34;target&#34;:&#34;Morocco&#34;},{&#34;source&#34;:&#34;Egypt&#34;,&#34;target&#34;:&#34;Syria&#34;},{&#34;source&#34;:&#34;Iraq&#34;,&#34;target&#34;:&#34;Kuwait&#34;},{&#34;source&#34;:&#34;Saudi Arabia&#34;,&#34;target&#34;:&#34;Syria&#34;},{&#34;source&#34;:&#34;Algeria&#34;,&#34;target&#34;:&#34;Morocco&#34;},{&#34;source&#34;:&#34;Burundi&#34;,&#34;target&#34;:&#34;Rwanda&#34;},{&#34;source&#34;:&#34;Indonesia&#34;,&#34;target&#34;:&#34;Malaysia&#34;},{&#34;source&#34;:&#34;Kenya&#34;,&#34;target&#34;:&#34;Somalia&#34;},{&#34;source&#34;:&#34;Sudan&#34;,&#34;target&#34;:&#34;Uganda&#34;},{&#34;source&#34;:&#34;Chad&#34;,&#34;target&#34;:&#34;Sudan&#34;},{&#34;source&#34;:&#34;Malawi&#34;,&#34;target&#34;:&#34;Tanzania&#34;},{&#34;source&#34;:&#34;Malawi&#34;,&#34;target&#34;:&#34;Zambia&#34;},{&#34;source&#34;:&#34;Argentina&#34;,&#34;target&#34;:&#34;Great Britain&#34;},{&#34;source&#34;:&#34;Ethiopia&#34;,&#34;target&#34;:&#34;Sudan&#34;},{&#34;source&#34;:&#34;Malaysia&#34;,&#34;target&#34;:&#34;Singapore&#34;},{&#34;source&#34;:&#34;Rhodesia&#34;,&#34;target&#34;:&#34;Zambia&#34;},{&#34;source&#34;:&#34;South Africa&#34;,&#34;target&#34;:&#34;Zambia&#34;},{&#34;source&#34;:&#34;Chad&#34;,&#34;target&#34;:&#34;Libya&#34;},{&#34;source&#34;:&#34;Guyana&#34;,&#34;target&#34;:&#34;Venezuela&#34;},{&#34;source&#34;:&#34;South Yemen&#34;,&#34;target&#34;:&#34;Yemen&#34;},{&#34;source&#34;:&#34;Iraq&#34;,&#34;target&#34;:&#34;Saudi Arabia&#34;},{&#34;source&#34;:&#34;Tanzania&#34;,&#34;target&#34;:&#34;Uganda&#34;},{&#34;source&#34;:&#34;Equatorial Guinea&#34;,&#34;target&#34;:&#34;Gabon&#34;},{&#34;source&#34;:&#34;Oman&#34;,&#34;target&#34;:&#34;South Yemen&#34;},{&#34;source&#34;:&#34;China&#34;,&#34;target&#34;:&#34;Vietnam&#34;},{&#34;source&#34;:&#34;Egypt&#34;,&#34;target&#34;:&#34;Libya&#34;},{&#34;source&#34;:&#34;Libya&#34;,&#34;target&#34;:&#34;Sudan&#34;},{&#34;source&#34;:&#34;Angola&#34;,&#34;target&#34;:&#34;Democratic Republic of Congo&#34;},{&#34;source&#34;:&#34;Angola&#34;,&#34;target&#34;:&#34;South Africa&#34;},{&#34;source&#34;:&#34;Cameroon&#34;,&#34;target&#34;:&#34;Nigeria&#34;},{&#34;source&#34;:&#34;Mozambique&#34;,&#34;target&#34;:&#34;Rhodesia&#34;},{&#34;source&#34;:&#34;Cambodia&#34;,&#34;target&#34;:&#34;Vietnam&#34;},{&#34;source&#34;:&#34;Mozambique&#34;,&#34;target&#34;:&#34;South Africa&#34;},{&#34;source&#34;:&#34;Colombia&#34;,&#34;target&#34;:&#34;Nicaragua&#34;},{&#34;source&#34;:&#34;Egypt&#34;,&#34;target&#34;:&#34;Iran&#34;},{&#34;source&#34;:&#34;Iran&#34;,&#34;target&#34;:&#34;Saudi Arabia&#34;},{&#34;source&#34;:&#34;Iran&#34;,&#34;target&#34;:&#34;Israel&#34;},{&#34;source&#34;:&#34;Honduras&#34;,&#34;target&#34;:&#34;Nicaragua&#34;},{&#34;source&#34;:&#34;South Africa&#34;,&#34;target&#34;:&#34;Zimbabwe&#34;},{&#34;source&#34;:&#34;Belize&#34;,&#34;target&#34;:&#34;Guatemala&#34;},{&#34;source&#34;:&#34;Bahrain&#34;,&#34;target&#34;:&#34;Qatar&#34;},{&#34;source&#34;:&#34;Kenya&#34;,&#34;target&#34;:&#34;Uganda&#34;},{&#34;source&#34;:&#34;Guinea Bissau&#34;,&#34;target&#34;:&#34;Senegal&#34;},{&#34;source&#34;:&#34;Kenya&#34;,&#34;target&#34;:&#34;Sudan&#34;},{&#34;source&#34;:&#34;Mauritania&#34;,&#34;target&#34;:&#34;Senegal&#34;},{&#34;source&#34;:&#34;Saudi Arabia&#34;,&#34;target&#34;:&#34;Yemen&#34;},{&#34;source&#34;:&#34;Armenia&#34;,&#34;target&#34;:&#34;Azerbaijan&#34;},{&#34;source&#34;:&#34;Croatia&#34;,&#34;target&#34;:&#34;Serbia&#34;},{&#34;source&#34;:&#34;Egypt&#34;,&#34;target&#34;:&#34;Sudan&#34;},{&#34;source&#34;:&#34;Kazakhstan&#34;,&#34;target&#34;:&#34;Uzbekistan&#34;},{&#34;source&#34;:&#34;Bosnia&#34;,&#34;target&#34;:&#34;Croatia&#34;},{&#34;source&#34;:&#34;Bosnia&#34;,&#34;target&#34;:&#34;Serbia&#34;},{&#34;source&#34;:&#34;Eritrea&#34;,&#34;target&#34;:&#34;Sudan&#34;},{&#34;source&#34;:&#34;Sudan&#34;,&#34;target&#34;:&#34;Uganda&#34;},{&#34;source&#34;:&#34;Afghanistan&#34;,&#34;target&#34;:&#34;Iran&#34;},{&#34;source&#34;:&#34;China&#34;,&#34;target&#34;:&#34;Japan&#34;},{&#34;source&#34;:&#34;China&#34;,&#34;target&#34;:&#34;United States&#34;},{&#34;source&#34;:&#34;Democratic Republic of Congo&#34;,&#34;target&#34;:&#34;Rwanda&#34;},{&#34;source&#34;:&#34;Democratic Republic of Congo&#34;,&#34;target&#34;:&#34;Uganda&#34;},{&#34;source&#34;:&#34;Djibouti&#34;,&#34;target&#34;:&#34;Eritrea&#34;},{&#34;source&#34;:&#34;Eritrea&#34;,&#34;target&#34;:&#34;Ethiopia&#34;},{&#34;source&#34;:&#34;Rwanda&#34;,&#34;target&#34;:&#34;Uganda&#34;},{&#34;source&#34;:&#34;Chad&#34;,&#34;target&#34;:&#34;Sudan&#34;},{&#34;source&#34;:&#34;Russia&#34;,&#34;target&#34;:&#34;United States&#34;}],&#34;modularity&#34;:{&#34;modularity&#34;:true},&#34;label&#34;:{&#34;show&#34;:true,&#34;position&#34;:&#34;top&#34;,&#34;fontSize&#34;:12}}],&#34;legend&#34;:{&#34;data&#34;:[1,2,4,5,6,3,12,13,11,9,8,14,10,7,15,16,17,18],&#34;show&#34;:true,&#34;type&#34;:&#34;plain&#34;},&#34;title&#34;:[{&#34;text&#34;:&#34;Strategic Rivalry Between Nations and States&#34;,&#34;subtext&#34;:&#34;Strategic Rivalry Between Nations and States&#34;}],&#34;toolbox&#34;:{&#34;feature&#34;:{&#34;saveAsImage&#34;:{&#34;title&#34;:&#34;Save As Image&#34;}}}},&#34;dispose&#34;:true},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;  #e_theme(&amp;quot;essos&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Tidy Tuesday Week 37: NLP and Friends</title>
      <link>/post/2020-10-15-tidy-tuesday-week-37-nlp-and-friend/</link>
      <pubDate>Thu, 15 Oct 2020 00:00:00 +0000</pubDate>
      <guid>/post/2020-10-15-tidy-tuesday-week-37-nlp-and-friend/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;I experience a few difficult and sad moments in my life in the past few months and it was not particularly an easy job for me to cope with these hard moments. However, I found a medicine to fight the sadness that was caused by these painful experience: watching Friends! I have watched Friends many many times but still it can bring smile to my face. Every time I feel being sad, I just start to watch several episodes on Friends, one after another and the laughter does the rest!&lt;/p&gt;
&lt;p&gt;So, when I realized that the dataset we are going to work with in the 37th week of 2020 Tidy Tuesdays project, I was absolutely thrilled and excited to get my hands on this dataset and analyze it. As a big fan of Friends, many ideas popped into my head on how I can make an interesting analysis on this dataset. In this post, I will go through three of them:
1. In Which locations (scenes) Friends was most filmed?
2. How characters in the show interacted with each other?
3. What kinds of actions female and male characters in the show were doing?&lt;/p&gt;
&lt;p&gt;I will addressed these three questions in the rest of this post!&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(ggthemes)
library(tidytuesdayR)
library(rsyntax)
library(spacyr)
library(tidytext)
library(tidygraph)
library(igraph)
library(ggraph)
library(hrbrthemes)
library(DT)
spacy_initialize(model = &amp;quot;en_core_web_lg&amp;quot;)

theme_set(  theme_fivethirtyeight()) 
theme_update(
    text = element_text(family = &amp;#39;Poppins Light&amp;#39;, color = &amp;#39;#774936&amp;#39;),
    plot.title = element_text(margin = margin(t = 10, b = 10)),
    plot.subtitle = element_text(margin = margin(b = 20)),
    axis.text.y = element_blank(),
    plot.background = element_rect(fill = &amp;#39;#FFFAF0&amp;#39;),
    panel.background = element_rect(fill = &amp;#39;#FFFAF0&amp;#39;),
    legend.position = &amp;#39;none&amp;#39;,
    panel.grid.major  = element_line(
      color = &amp;#39;#eddcd2&amp;#39;,
      size = 0.5,
      linetype = &amp;#39;dashed&amp;#39;
    ),
    panel.grid.minor = element_line(
      color = &amp;#39;#eddcd2&amp;#39;,
      size = 0.01,
      linetype = &amp;#39;dashed&amp;#39;
    )
  )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let us load the Friends dataset using the handy &lt;code&gt;tt_load&lt;/code&gt; function from the &lt;code&gt;tidytuesdayR&lt;/code&gt; package!&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tt &amp;lt;- tt_load(&amp;quot;2020-09-08&amp;quot;)
friends_df &amp;lt;- tt$friends &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It returns three tables but since the data that I need , I will only be working with the friends transcript dataset.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;friends_df %&amp;gt;% 
  head(20) %&amp;gt;% 
  datatable()&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;friends_df &amp;lt;- tt$friends &lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;top-locations&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Top Locations&lt;/h3&gt;
&lt;p&gt;Now let’s find out which locations this show was filmed the most. This information is available in the &lt;code&gt;text&lt;/code&gt; column.
In this column,Usually the location where the scene took place comes after the &lt;code&gt;Scene:&lt;/code&gt; string . So, we only need to find and filter rows that have this string. Unfortunately, this information is not available for the first and the last two seasons of Friends!&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;friends_df %&amp;gt;%
  filter(str_detect(text, fixed(&amp;#39;Scene:&amp;#39;))) %&amp;gt;% 
  head() %&amp;gt;% 
  datatable()&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;scences &amp;lt;- friends_df %&amp;gt;%
  filter(str_detect(text, fixed(&amp;#39;Scene:&amp;#39;))) %&amp;gt;%
  rowwise() %&amp;gt;%
  mutate(
    location = if_else(season &amp;lt;9,str_split(text, &amp;#39;,&amp;#39;)[[1]][1],str_split(text, fixed(&amp;#39;.&amp;#39;))[[1]][1]),
    location = str_remove_all(location, &amp;#39;erm&amp;#39;),
    location = str_remove_all(location, fixed(&amp;#39;erm&amp;#39;)),
    location = str_remove(location, fixed(&amp;#39;[Scene:&amp;#39;)) ,
    location = str_trim(location)
  ) %&amp;gt;% 
  filter(!str_detect(location, fixed(&amp;#39;]&amp;#39;)),
         !location %in% c(&amp;#39;Monica&amp;#39;, &amp;#39;Chandler&amp;#39;))

scenes_location_count &amp;lt;- scences %&amp;gt;%
  count(location, sort = TRUE) %&amp;gt;%
  filter(n &amp;gt; 10 )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now let’s sort and look at the top locations in Friends:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;scenes_location_count  %&amp;gt;% 
  DT::datatable()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So, Central Perk was the location where most scenes took place!&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt; scenes_location_count %&amp;gt;% 
  ggplot(aes(x = fct_reorder(location,n),n)) +
  geom_col(fill = &amp;#39;#ef476f&amp;#39;) +
  coord_flip() +
  labs(title = &amp;#39;Most Filmed Locations in Friends&amp;#39; ) +
  theme_fivethirtyeight() +
  theme(legend.position = &amp;#39;none&amp;#39;, 
        axis.text.x = element_text(angle = 90))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But let’s look at how many times each different locations&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;scences %&amp;gt;% 
  count(season,location,sort = TRUE) %&amp;gt;% 
  filter(n&amp;gt;5) %&amp;gt;% 
  ggplot(aes(x= season,y=n)) +
  geom_line(color = &amp;#39;red&amp;#39;,size = 1)+
  geom_point(color = &amp;#39;red&amp;#39;,size = 3)+
  labs(title = &amp;#39;Where Was Freinds Filmed?&amp;#39;,subtitle = &amp;#39;&amp;#39;) +
  facet_wrap(~location) &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;it inspired me to perform the same analysis on the Friends’ transcript. However, my approach is slightly different from what Julia Sigles employed. She used bigrams to find a combination of pronouns and verbs while My approach uses named entity recognition (NER) form the natural language processing literature. In my previous posts, I used Spacy and Python to extract named entities from text data, but in this post I will exclusively use
the &lt;code&gt;spacyr&lt;/code&gt; package in R (which behind the scene uses Spacy and python).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;female_characters &amp;lt;- c(&amp;#39;monica&amp;#39;,&amp;#39;rachel&amp;#39;,&amp;#39;phoebe&amp;#39;,&amp;#39;emily&amp;#39;,&amp;#39;carol&amp;#39;,&amp;#39;janice&amp;#39;,&amp;#39;susan&amp;#39;,&amp;#39;kathy&amp;#39;,&amp;#39;elizabeth&amp;#39;,&amp;#39;she&amp;#39;)
male_characters &amp;lt;- c(&amp;#39;ross&amp;#39;,&amp;#39;joey&amp;#39;,&amp;#39;chandler&amp;#39;,&amp;#39;mike&amp;#39;,&amp;#39;richard&amp;#39;,&amp;#39;gunther&amp;#39;,&amp;#39;paolo&amp;#39;,&amp;#39;bob&amp;#39;,&amp;#39;paul&amp;#39;,&amp;#39;frank&amp;#39;,&amp;#39;he&amp;#39;)


male_speakers &amp;lt;- c(&amp;#39;Ross Geller&amp;#39;,&amp;#39;Chandler Bing&amp;#39;,&amp;#39;Joey Tribbiani&amp;#39;,&amp;#39;Richard Burke&amp;#39;,&amp;#39;Mike Hannigan&amp;#39;,&amp;#39;Frank Buffay Jr.&amp;#39;,&amp;#39;Jack Geller&amp;#39;,&amp;#39;David&amp;#39;,&amp;#39;Peter Becker&amp;#39;,&amp;#39;Eddie Menuek&amp;#39;,&amp;#39;Gunther&amp;#39;,&amp;#39;Paul Stevens&amp;#39;)

female_speakers &amp;lt;- c(&amp;#39;Rachel Green&amp;#39;,&amp;#39;Phoebe Buffay&amp;#39;,&amp;#39;Janice Litman Goralnik&amp;#39;,&amp;#39;Monica Geller&amp;#39;,&amp;#39;Emily Waltham&amp;#39;,&amp;#39;Charlie Wheeler&amp;#39;,&amp;#39;Judy Geller&amp;#39;,&amp;#39;Amy Green&amp;#39;,&amp;#39;Carol Willick&amp;#39;,&amp;#39;Mona&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I start by separating the text column into sentences and give each sentence a unique id which I use later for joining dataframes.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;friends_sentences &amp;lt;- friends_df %&amp;gt;%
  unnest_tokens(sentence, text, token = &amp;#39;sentences&amp;#39;) %&amp;gt;%
  rownames_to_column() %&amp;gt;%
  rename(doc_id = rowname,
         text = sentence) 
friends_sentences %&amp;gt;%
  tail() %&amp;gt;% 
  datatable()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The main function that I am going to use from &lt;code&gt;spacyr&lt;/code&gt; is the ‘spacy_parse’ function which can return named entities, dependencies, part-of-speech tags, etc. By default, it does not give us dependencies so we need to set &lt;code&gt;dependency = TRUE&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tq &amp;lt;- tquery(pos = &amp;quot;VERB&amp;quot;, label = &amp;quot;verb&amp;quot;, children(relation = &amp;quot;nsubj&amp;quot;, label = &amp;quot;subject&amp;quot;))
tokens_df_dep &amp;lt;- friends_sentences %&amp;gt;% 
  spacy_parse(dependency = TRUE) %&amp;gt;%
  annotate_tqueries(&amp;quot;annotation&amp;quot;, query_name = tq) %&amp;gt;%
  filter(!is.na(annotation))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now I join tokens that I created using spacy and the firends sentences dataframe.&lt;/p&gt;
&lt;p&gt;I will pull the documnets id that:&lt;/p&gt;
&lt;p&gt;token&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;friends-network&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Friends’ Network&lt;/h3&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>How Do People Share on Telegram?</title>
      <link>/project/2020-01-01-how-do-people-share-on-telegram/</link>
      <pubDate>Wed, 01 Jan 2020 00:00:00 +0000</pubDate>
      <guid>/project/2020-01-01-how-do-people-share-on-telegram/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;


</description>
    </item>
    
  </channel>
</rss>
