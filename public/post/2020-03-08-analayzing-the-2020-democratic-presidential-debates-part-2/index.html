<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.5.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Muhammad Chenariyan Nakhaee">

  
  
  
    
  
  <meta name="description" content="1. IntroductionMany of us could not watch every 2020 Democratic Primary debate. It was important for some of us to know what happened during the debates. In my case, I was reading about what happened in debates in some online newspapers, or I watched a highlight of a debate on Youtube the next day. However, they only give a summary of a debate or just broadcast a portion of debates that includes a heated exchange of opinions between candidates.">

  
  <link rel="alternate" hreflang="en-us" href="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/">

  


  
  
  
  <meta name="theme-color" content="#328cc1">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin="anonymous">
    

    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
  

  
  
  
  <link rel="stylesheet" href="/css/academic.min.a1e68790d54b399632e80a98649b3d14.css">

  
    
    
    
    
      
    
    
    
    <link rel="stylesheet" href="/css/academic.50ffad82b4ed3579b14ca31c3d831d9e.css">
  

  




  


  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/">

  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@m_cnakhaee">
  <meta property="twitter:creator" content="@m_cnakhaee">
  
  <meta property="og:site_name" content="Muhammad Chenariyan Nakhaee">
  <meta property="og:url" content="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/">
  <meta property="og:title" content="Analyzing the 2020 Democratic Presidential Debates - Part 2 | Muhammad Chenariyan Nakhaee">
  <meta property="og:description" content="1. IntroductionMany of us could not watch every 2020 Democratic Primary debate. It was important for some of us to know what happened during the debates. In my case, I was reading about what happened in debates in some online newspapers, or I watched a highlight of a debate on Youtube the next day. However, they only give a summary of a debate or just broadcast a portion of debates that includes a heated exchange of opinions between candidates."><meta property="og:image" content="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/featured.JPG">
  <meta property="twitter:image" content="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/featured.JPG"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2020-03-08T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2020-03-08T00:10:58&#43;01:00">
  

  


    






  






<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/"
  },
  "headline": "Analyzing the 2020 Democratic Presidential Debates - Part 2",
  
  "image": [
    "/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/featured.JPG"
  ],
  
  "datePublished": "2020-03-08T00:00:00Z",
  "dateModified": "2020-03-08T00:10:58+01:00",
  
  "author": {
    "@type": "Person",
    "name": "Muhammad Chenariyan Nakhaee"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Muhammad Chenariyan Nakhaee",
    "logo": {
      "@type": "ImageObject",
      "url": "/img/icon-512.png"
    }
  },
  "description": "1. Introduction\rMany of us could not watch every 2020 Democratic Primary debate. It was important for some of us to know what happened during the debates. In my case, I was reading about what happened in debates in some online newspapers, or I watched a highlight of a debate on Youtube the next day. However, they only give a summary of a debate or just broadcast a portion of debates that includes a heated exchange of opinions between candidates."
}
</script>

  

  


  


  
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
  <link rel="stylesheet" href="/css/codefolding.css" />



  <title>Analyzing the 2020 Democratic Presidential Debates - Part 2 | Muhammad Chenariyan Nakhaee</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Muhammad Chenariyan Nakhaee</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>About</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/post/"><span>Posts</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/project/"><span>Projects</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/publication/"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/contact/"><span>Contact</span></a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  <article class="article">

  




















  
  
    
  


<div class="article-container pt-3">
  <h1>Analyzing the 2020 Democratic Presidential Debates - Part 2</h1>

  
  
  

<div id="code-folding-buttons" class="dropdown btn-group pull-right">
  <a class="btn btn-light btn-sm dropdown-toggle" href="#" role="button" id="allCodeToggleButton"
     data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Code
  </a>
  <div class="dropdown-menu" aria-labelledby="allCodeToggleButton">
    <a id="rmd-show-all-code" class="dropdown-item small" href="#">Show all</a>
    <a id="rmd-hide-all-code" class="dropdown-item small" href="#">Hide all</a>
  </div>
</div>




  



<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
          Last updated on
      
    
    Mar 8, 2020
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    23 min read
  </span>
  

  
  
  
  <span class="middot-divider"></span>
  <a href="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/#disqus_thread"></a>
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/categories/nlp/">NLP</a>, <a href="/categories/python/">Python</a>, <a href="/categories/r/">R</a></span>
  

  
    

  

</div>

  














</div>


<div class="article-header article-container featured-image-wrapper mt-4 mb-4" style="max-width: 720px; max-height: 720px;">
  <div style="position: relative">
    <img src="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/featured_hucb7618c0c3a15176eb99fb472c362eb0_1313748_720x0_resize_q90_lanczos.JPG" alt="" class="featured-image">
    
  </div>
</div>



  <div class="article-container">

    <div class="article-style">
      
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>


<div id="introduction" class="section level2">
<h2>1. Introduction</h2>
<p>Many of us could not watch every 2020 Democratic Primary debate. It was important for some of us to know what happened during the debates. In my case, I was reading about what happened in debates in some online newspapers, or I watched a highlight of a debate on Youtube the next day. However, they only give a summary of a debate or just broadcast a portion of debates that includes a heated exchange of opinions between candidates. As a result, many important issues raised by candidates will be <strong>ignored and forgotten in the</strong> aftermath of a debate. So, it is crucial to summarize the debate’s content so that everyone could understand what went on in the debate and what issues each candidate addressed during his/her speech. In this blog post, I will show you how I used some NLP techniques for exploring the content of debates and give you a comprehensive overview of topics that each candidate discussed.</p>
<p><a href="https://mcnakhaee.com/post/2020-02-23-the-most-eloeuent-democratic-candidate/">In my last blog post</a>, I explained that I had the three following goals in mind when I started exploring the 2020 Democratic Debates :</p>
<ol style="list-style-type: decimal">
<li>To know how eloquent presidential candidates are.</li>
<li>To find out who used more positive or more negative words in his/her speech by performing sentiment analysis.</li>
<li>A map of topics, individuals, and entities that each candidate mentioned in his/her speech by using named entity recognition and network analysis..</li>
</ol>
<p>I only discussed how I approached the first two aspects of my experiment in my last blogpost. Now it is time to investigate the third and last one.</p>
<p>Initially, my aim was to use network analysis to determine potential allies and enemies on the debate stage. For example, <a href="https://www.theguardian.com/us-news/2020/mar/04/mike-bloomberg-out-60-second-attack-elizabeth-warren-destroyed-campaign">Elizabeth Warren mentioned Mike Bloomberg several times and attacked him harshly in the 9th debate</a>. During the same debate, <a href="https://www.independent.co.uk/news/world/americas/us-election/amy-klobuchar-pete-buttigieg-handshake-democratic-debate-video-a9348621.html">Amy Klobuchar and Pete Buttigieg clashed bitterly with each other</a>. These are just two instances of many other heated exchanges between the candidates that happened throughout the ten debates.</p>
<blockquote>
<p>To make things more precise, I transformed my objective into two questions that I would like to answer:</p>
</blockquote>
<blockquote>
<ol style="list-style-type: decimal">
<li>How many times did a candidate address (mention) other candidates during a debate?</li>
<li>How did he/she refer to a candidate(in a friendly or unfriendly manner)?</li>
</ol>
</blockquote>
<p>A simple approach to answering these questions is to store the names of all candidates in a variable (for example, a vector in R or a list in Python), iterate over the transcript, compute the sentiment, count and store the number of times that another candidate brought up a candidate’s name.</p>
<p>However, this approach is a little bit challenging and requires a lot of manual data pre-processing efforts. For each democratic candidate, one must compile a comprehensive combination of ways that may be used to call a candidate, and to prepare such a list seems to be a very time-consuming task. For example, other candidates mentioned Bernie Sanders in many different ways, including Bernie, Bernie Sanders, or Senator Sanders.</p>
<p>I realized that I could use Named Entity Recognition (NER), a technique from the Natural Language Processing (NLP) literature, to extract candidates’ names from the transcript and solve this problem more efficiently. Using this approach, I can find candidates’ names from the transcript, but I can also find the names of other politicians, individuals, and even organizations and further extend my analysis to include many more topics and issues.</p>
</div>
<div id="workflow" class="section level2">
<h2>2. Workflow</h2>
<p>I made use of both Python and R in my analysis. My workflow includes the following steps:</p>
<ol style="list-style-type: decimal">
<li>I access the transcript of debates using this package.</li>
<li>I use tidytext to split the transcript into multiple sentences and also for sentiment analysis.</li>
<li>I extract several types of Named Entities from each sentence, using Spacy,</li>
<li>I compute the sentiment of each sentence using TextBlob library in Python.</li>
<li>I transferred the results to R for visualization. There, I visualize the network of mentions and entities using ggraph and ggplot library.</li>
</ol>
<p>Note that I could have implemented all the steps in R. For instance, Spacy has an R wrapper called Spacyr, which gives the same functionality that I need for this analysis. However, I’d like to increase the number of tools that I can use. Notably, using Python and R side by side is an exciting challenge for me.</p>
<pre class="r"><code>library(demdebates2020)
library(tidytext)
library(tidygraph)
library(tidyverse)
library(ggraph)
library(gghighlight)
library(ggthemes)
library(kableExtra)
library(reticulate)
library(magrittr)
library(pluralize)
theme_set(
  theme_graph(base_family = &#39;Montserrat&#39;)  +
    theme(
      panel.border = element_blank(),
      plot.title = element_text(
        family = &#39;Montserrat&#39;,
        face = &quot;bold&quot;,
        colour = &#39;#540b0e&#39;,
        size = 42,
        margin = ggplot2::margin(40, 40, 20, 10),
        hjust = 0
      ),
      plot.subtitle =  element_text(
        family = &#39;Montserrat&#39;,
        face = &quot;bold&quot;,
        colour = &#39;#7d4f50&#39;,
        size = 30,
        margin = ggplot2::margin(20, 40, 80, 10),
        hjust = 0
      ),
      plot.caption =  element_text(
        family = &#39;Montserrat&#39;,
        face = &quot;bold&quot;,
        colour = &#39;#540b0e&#39;,
        size = 16,
        margin = ggplot2::margin(0, 0, 20, 20),
      ),
      legend.position = &#39;none&#39;,
      plot.background = element_rect(fill = &#39;#FCF0E1&#39;),
      
    )
)</code></pre>
<div id="loading-the-dataset" class="section level3">
<h3>2.2 Loading the dataset</h3>
<pre class="r"><code>head(debates) </code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
speaker
</th>
<th style="text-align:left;">
background
</th>
<th style="text-align:left;">
speech
</th>
<th style="text-align:left;">
type
</th>
<th style="text-align:left;">
gender
</th>
<th style="text-align:right;">
debate
</th>
<th style="text-align:right;">
day
</th>
<th style="text-align:right;">
order
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Savannah Guthrie
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
All right. So with that business out of the way, we want to get to it. And we’ll start this evening with Senator Elizabeth Warren.
</td>
<td style="text-align:left;">
Moderator
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Savannah Guthrie
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Senator, good evening to you.
</td>
<td style="text-align:left;">
Moderator
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Elizabeth Warren
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Thank you. Good to be here.
</td>
<td style="text-align:left;">
Candidate
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Savannah Guthrie
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
You have many plans - free college, free child care, government health care, cancellation of student debt, new taxes, new regulations, the breakup of major corporations. But this comes at a time when 71 percent of Americans say the economy is doing well, including 60 percent of Democrats. What do you say to those who worry this kind of significant change could be risky to the economy?
</td>
<td style="text-align:left;">
Moderator
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Elizabeth Warren
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
So I think of it this way. Who is this economy really working for? It’s doing great for a thinner and thinner slice at the top. It’s doing great for giant drug companies. It’s just not doing great for people who are trying to get a prescription filled.
</td>
<td style="text-align:left;">
Candidate
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Elizabeth Warren
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
It’s doing great for people who want to invest in private prisons, just not for the African Americans and Latinx whose families are torn apart, whose lives are destroyed, and whose communities are ruined.
</td>
<td style="text-align:left;">
Candidate
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
</tr>
</tbody>
</table>
</div>
<div id="tokenization" class="section level3">
<h3>2.1. Tokenization</h3>
<p>As I mentioned before, I use tidytext to tokenize the transcript dataset based on sentences. For sentence tokenization, you need to set <code>token = 'sentences'</code> in <code>unnest_tokens()</code> function. I think sentence tokenization is a reasonable choice because candidates might change the subject or the tone of their speech in each sentence.</p>
<pre class="r"><code>debates &lt;- debates %&gt;%
 unnest_tokens(sentence, speech, token = &#39;sentences&#39;,to_lower = FALSE)</code></pre>
<pre class="r"><code>head(debates) </code></pre>
<pre class="r"><code>head(debates) %&gt;%
 kable() %&gt;%
 kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;, &quot;responsive&quot;))</code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
speaker
</th>
<th style="text-align:left;">
background
</th>
<th style="text-align:left;">
type
</th>
<th style="text-align:left;">
gender
</th>
<th style="text-align:right;">
debate
</th>
<th style="text-align:right;">
day
</th>
<th style="text-align:right;">
order
</th>
<th style="text-align:left;">
sentence
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Abby Phillip
</td>
<td style="text-align:left;">
(APPLAUSE)
</td>
<td style="text-align:left;">
Moderator
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
222
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Abby Phillip
</td>
<td style="text-align:left;">
(APPLAUSE)
</td>
<td style="text-align:left;">
Moderator
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
283
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Abby Phillip
</td>
<td style="text-align:left;">
(APPLAUSE)
</td>
<td style="text-align:left;">
Moderator
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
285
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Abby Phillip
</td>
<td style="text-align:left;">
(APPLAUSE)
</td>
<td style="text-align:left;">
Moderator
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
328
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Abby Phillip
</td>
<td style="text-align:left;">
(APPLAUSE)
</td>
<td style="text-align:left;">
Moderator
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
576
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Abby Phillip
</td>
<td style="text-align:left;">
(COMMERCIAL BREAK)
</td>
<td style="text-align:left;">
Moderator
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
284
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
</div>
<div id="named-entity-recognition-using-spacy" class="section level3">
<h3>3. Named Entity Recognition using Spacy</h3>
<p>Now we change to python for NER, but we need to install and import a few python libraries before starting the analysis.</p>
<pre class="python"><code>import pandas as pd
import spacy
from textblob import TextBlob</code></pre>
<p>In RStudio and Rmarkdown notebooks, with the help of the <code>reticulate</code> library, we can easily load the debate dataset in our R environment to our Python environment.</p>
<pre class="python"><code>debates = r.debates</code></pre>
<p>Note that in in the transcript dataset there are rows for both the candidates and the moderators who asked questions from candidates. However, we are particularly interested in what the candidates said, so we only filter rows corresponding to candidates.</p>
<pre class="python"><code>candidates = debates[(debates[&#39;type&#39;] == &#39;Candidate&#39;) &amp; (pd.notnull(debates[&#39;sentence&#39;])) ]</code></pre>
<p>We are almost ready to extract the named entities. However, to use Spacy’s NLP features such as NER, we first need to download and load a pre-trained English language model. There are <a href="https://spacy.io/usage/models">several English language models</a> with different sizes available in Spacy. I used the largest language model available as it might be better and more accurate.</p>
<pre class="python"><code>nlp = spacy.load(&#39;en_core_web_lg&#39;)</code></pre>
<p>Spacy’s NER model is trained on the <a href="https://catalog.ldc.upenn.edu/LDC2013T19">OntoNotes 5</a> corpus, and it can detect several types of named entities, including:</p>
<table>
<thead>
<tr class="header">
<th>TYPE</th>
<th>DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>PERSON</code></td>
<td>People, including fictional.</td>
</tr>
<tr class="even">
<td><code>NORP</code></td>
<td>Nationalities or religious or political groups.</td>
</tr>
<tr class="odd">
<td><code>FAC</code></td>
<td>Buildings, airports, highways, bridges, etc.</td>
</tr>
<tr class="even">
<td><code>ORG</code></td>
<td>Companies, agencies, institutions, etc.</td>
</tr>
<tr class="odd">
<td><code>GPE</code></td>
<td>Countries, cities, states.</td>
</tr>
<tr class="even">
<td><code>LOC</code></td>
<td>Non-GPE locations, mountain ranges, bodies of water.</td>
</tr>
<tr class="odd">
<td><code>PRODUCT</code></td>
<td>Objects, vehicles, foods, etc. (Not services.)</td>
</tr>
<tr class="even">
<td><code>EVENT</code></td>
<td>Named hurricanes, battles, wars, sports events, etc.</td>
</tr>
<tr class="odd">
<td><code>WORK_OF_ART</code></td>
<td>Titles of books, songs, etc.</td>
</tr>
<tr class="even">
<td><code>LAW</code></td>
<td>Named documents made into laws.</td>
</tr>
<tr class="odd">
<td><code>LANGUAGE</code></td>
<td>Any named language.</td>
</tr>
<tr class="even">
<td><code>DATE</code></td>
<td>Absolute or relative dates or periods.</td>
</tr>
<tr class="odd">
<td><code>TIME</code></td>
<td>Times smaller than a day.</td>
</tr>
<tr class="even">
<td><code>PERCENT</code></td>
<td>Percentage, including ”%“.</td>
</tr>
<tr class="odd">
<td><code>MONEY</code></td>
<td>Monetary values, including unit.</td>
</tr>
<tr class="even">
<td><code>QUANTITY</code></td>
<td>Measurements, as of weight or distance.</td>
</tr>
<tr class="odd">
<td><code>ORDINAL</code></td>
<td>“first”, “second”, etc.</td>
</tr>
<tr class="even">
<td><code>CARDINAL</code></td>
<td>Numerals that do not fall under another type.</td>
</tr>
</tbody>
</table>
<p>As you can see, there are many types of named entities, but I narrow down my analysis to just a handful of them, including <code>PERSON</code>, <code>ORG</code>, <code>GPE</code>, <code>NORP</code>, <code>LAW</code>, and <code>LOC</code>.
The named entity labels are stored in <code>label_</code> attribute. To do so, we need to create <code>Doc</code> object using <code>nlp()</code> method. When we call <code>nlp()</code> on the input text, spacy uses the language model to tokenize the document first. Then, spacy applies a tagger, parser, and named entity recognizer steps as its processing pipeline’s next components. The named entities can be accessed by <code>ents</code> attribute of the document object.</p>
<p>If you are interested to learn more about Spacy and how it works, I have provided some links at the end of this post.</p>
<p>I define a python function that iterates over all named entities and see to which class of named entities (by default <code>PERSON</code>) they belong. I apply this function to the transcript column in the original dataset and store each extracted type of entity as a separate column.</p>
<pre class="python"><code>def extract_entities_delim(text,type_ent = &#39;PERSON&#39;):
  ent_text = &#39;&#39;
  doc = nlp(text)
  for e in doc.ents:
    if e.label_ == type_ent:
      ent_text = e.text+ &#39;;&#39; + ent_text 
  return ent_text</code></pre>
<pre class="python"><code>candidates[&#39;PERSON&#39;] = candidates[&#39;sentence&#39;].apply(lambda x:extract_entities_delim(x))
candidates[&#39;ORG&#39;] = candidates[&#39;sentence&#39;].apply(lambda x:extract_entities_delim(x,&#39;ORG&#39;))
candidates[&#39;GPE&#39;] = candidates[&#39;sentence&#39;].apply(lambda x:extract_entities_delim(x,&#39;GPE&#39;))
candidates[&#39;NORP&#39;] = candidates[&#39;sentence&#39;].apply(lambda x:extract_entities_delim(x,&#39;NORP&#39;))
candidates[&#39;LAW&#39;] = candidates[&#39;sentence&#39;].apply(lambda x:extract_entities_delim(x,&#39;LAW&#39;))
candidates[&#39;LOC&#39;] = candidates[&#39;sentence&#39;].apply(lambda x:extract_entities_delim(x,&#39;LOC&#39;))</code></pre>
</div>
<div id="sentiment-analysis" class="section level3">
<h3>4. Sentiment Analysis</h3>
<p>Next, I use TextBlob to compute each sentence’s sentiment and store its polarity score in a separate column called <code>polarity_sentiment</code> (TextBlob also returns a <code>subjectivity</code> score, but for simplicity, I will not use this score in my analysis). The polarity sentiment score is a value between -1 and 1. If the value is larger than 0, it means that the sentence has a positive sentiment. On the other hand, if the returned value is smaller than 0, it indicates that the sentence’s sentiment is negative.</p>
<pre class="python"><code>def polarity_sentiment(text):
  blob = TextBlob(text)
  return blob.sentiment.polarity
  
candidates[&#39;polarity_sentiment&#39;] = candidates.sentence.apply(lambda x:polarity_sentiment(x))</code></pre>
</div>
</div>
<div id="network-visualization" class="section level2">
<h2>5.Network Visualization</h2>
<p>A network (graph) can nicely represent how candidates mentioned individuals and entities in their speeches. We have two types of nodes in this network:</p>
<ol style="list-style-type: decimal">
<li>The first set of nodes represent candidates on the debate stage (<strong>from nodes)</strong>.</li>
<li>The second set of nodes represent named entities (including the name of candidates themselves) that the candidates referred to in their speeches (<strong>to</strong> <strong>nodes</strong>).</li>
</ol>
<p>If a candidate mentions a named entity in his/her speech, we connect the candidate node and the named entity node via our network’s edge. It is also fair to assume that the candidate-entity network should be weighted because candidates tend to place a varying level of importance on different issues, topics, and people (named entities).</p>
<p>We have two options for specifying weights for edges in the network:</p>
<ol style="list-style-type: decimal">
<li>We can use the number of times that a candidate mentioned a named entity in his/her speech. This shows how much a named entity was important to that candidate.</li>
<li>We can group by candidates and named entities and compute their average sentiment score. By doing so, we can measure how each candidate described these named entities. However, this approach might not be as accurate as we want.</li>
</ol>
<p>Having said that, it is time to go back to R and visualize the network of candidates and named entities using the <a href="https://github.com/thomasp85/ggraph"><code>ggraph</code></a> and <code>tidygraph</code> libraries. For each class of named entities, I use <code>as_tbl_graph()</code> function, create a unique graph table dataset, and visualize the network.</p>
<p>So, let us load the sentiment-entity dataset that I created in the Python environment to the R environment.</p>
<pre class="r"><code>candidates &lt;- py$candidates</code></pre>
<pre class="r"><code>head(candidates) </code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
X1
</th>
<th style="text-align:left;">
speaker
</th>
<th style="text-align:left;">
background
</th>
<th style="text-align:left;">
type
</th>
<th style="text-align:left;">
gender
</th>
<th style="text-align:right;">
debate
</th>
<th style="text-align:right;">
day
</th>
<th style="text-align:right;">
order
</th>
<th style="text-align:left;">
sentence
</th>
<th style="text-align:left;">
PERSON
</th>
<th style="text-align:left;">
ORG
</th>
<th style="text-align:left;">
GPE
</th>
<th style="text-align:left;">
NORP
</th>
<th style="text-align:left;">
LAW
</th>
<th style="text-align:left;">
LOC
</th>
<th style="text-align:right;">
polarity_sentiment
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
370
</td>
<td style="text-align:left;">
Amy Klobuchar
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Candidate
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
Well, first, the economy.
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0.250
</td>
</tr>
<tr>
<td style="text-align:right;">
371
</td>
<td style="text-align:left;">
Amy Klobuchar
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Candidate
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
We know that not everyone is sharing in this prosperity.
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:right;">
372
</td>
<td style="text-align:left;">
Amy Klobuchar
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Candidate
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
And Donald Trump just sits in the White House and gloats about what’s going on, when you have so many people that are having trouble affording college and having trouble affording their premiums.
</td>
<td style="text-align:left;">
Donald Trump;
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0.025
</td>
</tr>
<tr>
<td style="text-align:right;">
373
</td>
<td style="text-align:left;">
Amy Klobuchar
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Candidate
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
So I do get concerned about paying for college for rich kids.
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0.375
</td>
</tr>
<tr>
<td style="text-align:right;">
374
</td>
<td style="text-align:left;">
Amy Klobuchar
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Candidate
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
I do.
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:right;">
375
</td>
<td style="text-align:left;">
Amy Klobuchar
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Candidate
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
But I think my plan is a good one.
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0.700
</td>
</tr>
</tbody>
</table>
<div id="the-candidateperson-network" class="section level4">
<h4>5.1 The Candidate/Person Network</h4>
<p>First, I will visualize the candidate/person network. However, I should remind you that in the beginning of the democratic primary, many democratic candidates were competing against each other in the race and on the debate stage. If I were to visualize every individual that each candidate had ever in the network, the results would become unreadable. So, just like my last blog post, I selected a few democratic candidates to show my analysis.</p>
<p>Furthermore, I will only highlight nodes corresponding to the top 6 democratic candidates and other interesting individuals, including Donald Trump and Barack Obama.</p>
<pre class="r"><code>interesting_individuals &lt;-
 c(
  &quot;Bernie Sanders&quot; ,
  &quot;Elizabeth Warren&quot; ,
  &quot;Mike Bloomberg&quot;  ,
  &quot;Pete Buttigieg&quot; ,
  &quot;Amy Klobuchar&quot; ,
  &quot;Joe Biden&quot;,
  &#39;Donald Trump&#39;,
  &#39;Barack Obama&#39;
 )



custom_palette &lt;-
  c(
    &#39;Mike Bloomberg&#39; = &#39;#EDC948&#39;,
    &#39;Amy Klobuchar&#39; = &#39;#59A14F&#39; ,
    &#39;Joe Biden&#39; = &#39;#E15759&#39;,
    &#39;Pete Buttigieg&#39; = &#39;#B07AA1&#39;,
    &#39;Elizabeth Warren&#39; =  &#39;#F28E2B&#39;,
    &#39;Bernie Sanders&#39; =  &#39;#4E79A7&#39; ,
    &#39;Donald Trump&#39; = &#39;#BC3908&#39;,
    &#39;Barack Obama&#39; = &#39;#00afb9&#39;,
    &#39;Others&#39; = &#39;#540b0e&#39;
  )</code></pre>
<pre class="r"><code>persons_graph_table &lt;- candidates %&gt;%
 separate_rows(PERSON, sep = &#39;;&#39;) %&gt;%
 filter(speaker %in% interesting_individuals,PERSON != &#39;&#39;, debate %in% c(8, 9, 10)) %&gt;%
 mutate(from = speaker, to = PERSON) %&gt;%
 group_by(from, to) %&gt;%
 summarize(n_mentions = n(),
      mean_sent = mean(polarity_sentiment),
      sent =case_when(mean_sent &lt; -0.01 ~ &#39;Negative&#39;,
               mean_sent &gt; 0.01 ~ &#39;Positive&#39;,
              TRUE ~ &#39;Neutral&#39; )
               ) %&gt;%
 ungroup() %&gt;%
 as_tbl_graph() %&gt;%
 mutate(interesting_individuals = if_else(name %in% interesting_individuals, name, &#39;Others&#39;))</code></pre>
<pre class="r"><code>edge_cols &lt;- c(&#39;#e63946&#39;,&#39;#f1faee&#39;,&#39;#457B9D&#39;)
ggraph(persons_graph_table, layout = &#39;kk&#39;) + 
  geom_edge_link(aes(edge_width = n_mentions,colour = sent )) +
  geom_node_point(aes(color = interesting_individuals ),size = 5) + 
  geom_node_label(aes(label = name,color = interesting_individuals),repel = TRUE,size= 8) + 
 scale_color_manual(values = custom_palette) +
  labs(title = &#39;Who Mentioned Whom in the 2020 Democratic Debates?&#39;) +
  scale_edge_colour_manual(values = edge_cols) </code></pre>
<p><img src="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/index_files/figure-html/unnamed-chunk-21-1.png" width="1920" /></p>
<p>If you look at the graph carefully, you will notice three issues with this network. First of all, the sentiment scores do not necessarily indicate how a candidate thinks about that person. For instance, Bernie Sanders and Khashoggi’s edge is red (i.e. negative sentiment), but Bernie Sanders did not talk negatively about Khashoggi at all but rather how he was murdered. Secondly, there are several nodes in the network that belong to the same individual. For example, Bernie Sanders tends to address other candidates by their first names, but other (younger) candidates usually use the last name to address each other.</p>
<p>The third issue is that some nodes do not represent a person. The transcript dataset is full of errors, and many names are misspelled. Although Spacy is a very powerful library for NER, sometimes it gives us wrong results, and its detected named entities are not always correct. For this reason, we also need to perform a post-processing step in which we remove some incorrectly spelled words or replaced them with their correct forms. I found two ways to deal with these issues: 1. or we can use a name matching algorithm to match the partial names with its full name. This approach can be challenging because we need to have a list of all possible full names, which is only available for the candidates.2. We can manually find undesirable names and replace them with what we want.</p>
</div>
<div id="matching-candidate-names" class="section level4">
<h4>5.1 Matching candidate names</h4>
<p>A python library called <code>fuzzywuzzy</code>can help us match two strings based on different similarity criteria. However, before using this library, I transform the original dataset into a long dataframe where each row belongs to a pair of candidate-person (from-to), and I move it back to our python environment.</p>
<pre class="r"><code>candidates_long &lt;- candidates %&gt;%
 filter(PERSON != &#39;&#39;) %&gt;%
 separate_rows(PERSON, sep = &#39;;&#39;) 
head(candidates_long)</code></pre>
</div>
</div>
<div id="a-tibble-6-x-16" class="section level1">
<h1>A tibble: 6 x 16</h1>
<pre><code> X1 speaker background type  gender debate   day order sentence PERSON ORG  </code></pre>
<p><dbl> <chr> <lgl> <chr> <chr> <dbl> <dbl> <dbl> <chr> <chr> <chr>
1 372 Amy Kl~ NA Cand~ female 1 1 11 And Don~ “Dona~ <NA>
2 372 Amy Kl~ NA Cand~ female 1 1 11 And Don~”" <NA>
3 384 Amy Kl~ NA Cand~ female 1 1 99 It’s so~ “Bara~ <NA>
4 384 Amy Kl~ NA Cand~ female 1 1 99 It’s so~”" <NA>
5 422 Amy Kl~ NA Cand~ female 1 1 329 But the~ “Dona~ <NA>
6 422 Amy Kl~ NA Cand~ female 1 1 329 But the~”" <NA>
# … with 5 more variables: GPE <chr>, NORP <chr>, LAW <chr>, LOC <chr>,
# polarity_sentiment <dbl></p>
<pre class="python"><code>candidates_long = r.candidates_long</code></pre>
<p>Let’s look at the full names of democratic candidates.</p>
<pre class="python"><code>import pandas as pd
candidate_lists = pd.unique(candidates_long.speaker)
print(candidate_lists)</code></pre>
<p>I define a python function called <code>match_names</code>that uses <code>process.extractOne</code> function to select the first matched named entity with at least 80 percent similarity to a candidate’s full name. The matched names are stored in a separate column called <code>dem_candidate_full_name</code>.</p>
<pre class="python"><code>from fuzzywuzzy import fuzz 
from fuzzywuzzy import process </code></pre>
<pre class="python"><code>def match_names(name):
  try:
    return process.extractOne(name, candidate_lists,score_cutoff = 80)[0] 
  except:
    return None

candidates_long[&#39;dem_candidate_full_name&#39;] = candidates_long.PERSON.apply(lambda x: match_names(x) )</code></pre>
<p>Now we can return to R and continue our analysis.</p>
<pre class="r"><code>candidates_long &lt;- py$candidates_long
glimpse(candidates_long)</code></pre>
<div id="a-word-of-caution" class="section level4">
<h4>A word of caution</h4>
<p>We need to be very careful with the results of the name-matching algorithm. There are too many politicians with the name ‘John’ and a John might refer to “John McCain” or “John Bolton” not the candidate “John Hickenlooper”. So, as a post-processing step, I manually explore the dataset to correct the few mistakes that the matching algorithm had made.</p>
<pre class="r"><code>candidates_long &lt;- candidates_long %&gt;%
  mutate(PERSON = if_else(
    !is.na(dem_candidate_full_name),
    dem_candidate_full_name,
    PERSON),
  PERSON = case_when(PERSON == &#39;John Hickenlooper&#39; &amp; str_detect(sentence,&#39;McCain&#39;) ~ &#39;John McCain&#39;,
                      PERSON == &#39;John Hickenlooper&#39; &amp; str_detect(sentence,&#39;Bolton&#39;) ~ &#39;John Bolton&#39;,
                      PERSON == &#39;John Delaney&#39; &amp; speaker == &#39;Joe Biden&#39; ~&#39;John McCain&#39;,
                      PERSON == &#39;John Delaney&#39; &amp; speaker == &#39;   Amy Klobuchar&#39; ~&#39;John McCain&#39;,
                      TRUE ~  PERSON)
  ) </code></pre>
</div>
<div id="manual-name-correction" class="section level3">
<h3>5.2 Manual name correction</h3>
<p>We have a better dataset now, but there are still a lot of inaccurate named entities or inconsistencies in the dataset. Let’s start by removing named entities that do not correspond with a real person.</p>
<pre class="r"><code>non_person &lt;-
  c(
    &#39;y adema&#39; ,
    &#39;Appalachia&#39; ,
    &#39;AUMF&#39; ,
    &#39;bias&#39;,
    &#39;nondisclosur&#39; ,
    &#39;Mathew 25&#39;,
    &#39;Idlib&#39;,
    &#39;ye&#39;,
    &#39;Everytown&#39;,
    &#39;Kurd&#39;,
    &#39;Roe V.&#39;,
    &#39;Wade&#39;,
    &#39;Trumpism&#39;,
    &#39;Casey&#39;,
    &#39;brown&#39;,
    &#39;Grandpa&#39;,
    &#39;Dad&#39;,
    &quot;Josh&quot;,
    &#39;Uighurs&#39;,
    &#39;Roe&#39;,
    &#39;PolitiFact&#39;,
    &#39;Latinx&#39;,
    &#39;Brady&#39;,
    &#39;pre-K.&#39;,
    &#39;Brady Bill&#39;,
    &#39;pro-Israel&#39;,
    &#39;ho&#39;,
    &#39;Dreamer&#39;
  )</code></pre>
<p>We have another problem left. Some individuals were mentioned in different ways, and we have several nodes for them in the graph. To solve this issue, I use <code>str_detect</code> function from <code>stringr</code> package to manually modify them names. I must say this was the most tedious and time-consuming part of my analysis!</p>
<pre class="r"><code>persons_graph_table &lt;-  candidates_long %&gt;%
  filter(speaker %in% interesting_individuals,
         !PERSON %in% non_person,
         nchar(PERSON)&gt;1) %&gt;%
  dplyr::rowwise() %&gt;%
  mutate(dem_candidate_full_name = as.character(dem_candidate_full_name)) %&gt;%
  mutate(from = speaker, to = PERSON) %&gt;%
  mutate(
    to = case_when(
      to %in% c(
        &#39;Donald&#39;,
        &#39;Donald Trump&#39;,
        &#39;Donald trump&#39;,
        &#39;Trump&#39;,
        &#39;President Trump&#39;,
        &quot;Donald Trump&#39;s&quot;
      ) ~ &#39;Donald Trump&#39;,
      to %in% c(&#39;Hillar&#39;,
                &#39;Clinton&#39;,
                &#39;Hillary&#39;) ~ &#39;Hillary Clinton&#39;,
      to %in% c(&#39;Obama&#39;,
                &#39;Barack&#39;) ~ &#39;Barack Obama&#39;,
      str_detect(to, &#39;Trump&#39;) ~ &#39;Donald Trump&#39;,
      str_detect(to, &#39;Vind&#39;) ~ &#39;Vindman&#39;,
      str_detect(to, &#39;Assad&#39;) ~ &#39;Assad&#39;,
      str_detect(to, &#39;McCarthy&#39;) ~ &#39;McCarthy&#39;,
      str_detect(to, &#39;Trudeau&#39;) ~ &#39;Justin Trudeau&#39;,
      str_detect(to, &#39;Bannon&#39;) ~ &#39;Steve Bannon&#39;,
      str_detect(to, &#39;Netanyahu&#39;) ~ &#39;Netanyahu&#39;,
      str_detect(to, &#39;Martin Luther&#39;) ~ &#39;Martin Luther King&#39;,
      str_detect(to, &#39;Mandela&#39;) ~ &#39;Mandela&#39;,
      str_detect(to, &#39;Xi&#39;) ~ &#39;Xi Jinping&#39;,
      str_detect(to, &#39;Putin&#39;) ~ &#39;Putin&#39;,
      str_detect(to, &#39;Mitch&#39;) ~ &#39;Mitch Mcconnell&#39;,
      str_detect(to, &#39;Lindsey&#39;) ~ &#39;Lindsey Graham&#39;,
      str_detect(to, &#39;Romney&#39;) ~ &#39;Mitt Romney&#39;,
      str_detect(to, &#39;George&#39;) ~ &#39;George Bush&#39;,
      str_detect(to, &#39;Bush&#39;) ~ &#39;George Bush&#39;,
      str_detect(to, &#39;Turner&#39;) ~ &#39;Nina Turner&#39;,
      str_detect(to, &#39;Clyburn&#39;) ~ &#39;Jim Clyburn&#39;,
      str_detect(to, &#39;Cheney&#39;) ~ &#39;Dick Cheney&#39;,
      str_detect(to, &#39;Shaheen&#39;) ~ &#39;Jeanne Shaheen&#39;,
      str_detect(to, &#39;Hart&#39;) ~ &#39;Quentin Hart&#39;,
      str_detect(to, &#39;Cokie&#39;) ~ &#39;Cokie Roberts&#39;,
      str_detect(to, &#39;Kelly&#39;) ~ &#39;Laura Kelly&#39;,
      str_detect(to, &#39;Berry&#39;) ~ &#39;Seth Berry&#39;,
      str_detect(to, &#39;Grassley&#39;) ~ &#39;Chuck Grassley&#39;,
      str_detect(to, &#39;Tommy&#39;) ~ &#39;Tom Steyer&#39;,
      str_detect(to, &#39;Pelosi&#39;) ~ &#39;Nancy Pelosi&#39;,
      str_detect(to, &#39;Kim&#39;) ~ &#39;Kim Jong-un&#39;,
      str_detect(to, &#39;Pence&#39;) ~ &#39;Mike Pence&#39;,
      str_detect(to, &#39;Schatz&#39;) ~ &#39;Brian Schatz&#39;,
      str_detect(to, &#39;Gates&#39;) ~  &#39;Robert Gates&#39;,
      str_detect(to, &#39;Jill&#39;) ~ &#39;Jill Biden&#39;,
      str_detect(to, &#39;Casey Jo&#39;) ~ &#39;Casey Jo&#39;,
      str_detect(to, &#39;Franklin&#39;) |
      str_detect(to, &#39;FDR&#39;) ~ &#39;Franklin D. Roosevelt&#39;,
      str_detect(to, &#39;Welch&#39;) ~ &#39;Joseph Welch&#39;,
      str_detect(to, &#39;Beau&#39;) ~ &#39;Beau Biden&#39;,
      str_detect(to, &#39;Rudy Giuliani&#39;) ~ &#39;Rudy Giuliani&#39;,
      str_detect(to, &#39;Bolton&#39;) ~ &#39;John Bolton&#39;,
      str_detect(to, &#39;McCain&#39;) ~ &#39;John McCain&#39;,
      str_detect(to, &#39;Truman&#39;) ~ &#39;Harry Truman&#39;,
      str_detect(to, &#39;Dunford&#39;) ~ &#39;Joe Dunford&#39;,
      str_detect(to, &#39;Breyer&#39;) ~ &#39;Justice Breyer&#39;,
      str_detect(to, &#39;Cindy&#39;) ~ &#39;Cindy McCain&#39;,
      to == &#39;Dick&#39; ~ &#39;Uncle Dick&#39;,
      to == &#39;Charles&#39; ~ &#39;Charles Fried&#39;,
      to == &#39;JFK&#39; |
        (to == &#39;Kennedy&#39; &amp; speaker == &#39;Joe Biden&#39;) ~ &#39;John F. Kennedy&#39;,
      to == &#39;Kennedy&#39; &amp; speaker == &#39;Amy Klobuchar&#39; ~ &#39;Ted Kennedy&#39;,
      to %in% c(&#39;Joey&#39;) ~ &#39;Himself&#39;,
      to %in% c(
        &#39;Ady&#39;,
        &#39;Carl&#39;,
        &#39;Ady Barkan&#39;,
        &#39;Derek&#39;,
        &#39;Mark&#39;,
        &#39;Salvador&#39;,
        &#39;Rachael&#39;,
        &#39;Nicole&#39;
      ) ~ &#39;American Constituents&#39;,
      to %in% c(
        &#39;David&#39;,
        &#39;Chuck&#39;,
        &#39;Wolf&#39;,
        &#39;   Wolf&#39;,
        &#39;Margaret&#39;,
        &#39;Brianne&#39;,
        &#39;Adam&#39;,
        &#39;Jake&#39;,
        &#39;Norah&#39;,
        &#39;Judy&#39;,
        &#39;Gayle&#39;,
        &#39;Dana&#39;,
        &#39;Jorge - it&#39;,
        &#39;Lester&#39;,
        &#39;Rachel&#39;
      ) ~ &#39;Moderator&#39;,
      TRUE ~ to
    )
  ) %&gt;%
  group_by(from, to) %&gt;%
  summarize(n_mentions = n()) %&gt;%
  ungroup() %&gt;%
  as_tbl_graph() %&gt;%
  mutate(interesting_individuals = if_else(name %in% interesting_individuals, name, &#39;Others&#39;))  </code></pre>
<p>Finally, we can visualize the network with modified node names.</p>
<pre class="r"><code>edge_cols &lt;- c(&#39;#e63946&#39;, &#39;#f1faee&#39;, &#39;#457B9D&#39;)
ggraph(persons_graph_table, layout = &#39;nicely&#39;) +
  geom_edge_link(aes(edge_width = n_mentions, alpha = n_mentions), color = &#39;#540b0e&#39;) +
  geom_node_point(aes(color = interesting_individuals),size = 6) +
  geom_node_label(
    aes(label = name, color = interesting_individuals),
    repel = TRUE,
    size = 8,
    label.r = 0.4,
    check_overlap = TRUE
  ) +
  scale_color_manual(values = custom_palette) +
  labs(title = &#39;Individuals Mentioned by Top Democratic Candidates During the Democratic Primary Debates&#39;,
       subtitle = &#39;This graph shows which individuals or politicians were mentioned by top 6 democratic candidates over the course of first ten priamary debates.&#39;,
       caption = &#39;Visualization: @m_cnakhaee\n\n Source: https://github.com/favstats/demdebates2020&#39;) </code></pre>
<p><img src="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/index_files/figure-html/unnamed-chunk-32-1.png" width="3840" /></p>
</div>
<div id="candidates-interaction" class="section level3">
<h3>5.3 Candidates interaction</h3>
<p>In the last sections, I explained how the top 6 remaining candidates mentioned other individuals during their speeches on the debate stage. However, with a little bit of modification to our previous chunk of code, we can extend the analysis and investigate how all democratic candidates interacted with each other over the course of 10 debates.</p>
<pre class="r"><code>#The name of all candidaes
all_candidates &lt;- candidates_long %&gt;%
  distinct(speaker) %&gt;%
  pull()

candidates_graph_table &lt;- candidates_long %&gt;%
  filter(!is.na(dem_candidate_full_name),
         dem_candidate_full_name == PERSON) %&gt;%
  rowwise() %&gt;%
  mutate(debate = as.factor(debate)) %&gt;%
  mutate(dem_candidate_full_name = as.character(dem_candidate_full_name)) %&gt;%
  mutate(from = speaker, to = dem_candidate_full_name) %&gt;%
  group_by(from, to, debate) %&gt;%
  summarize(n_mentions = n()) %&gt;%
  ungroup() %&gt;%
  as_tbl_graph(directed = TRUE) %&gt;%
  mutate(interesting_individuals = if_else(name %in% interesting_individuals, name, &#39;Others&#39;)) %&gt;%
  activate(nodes) %&gt;%
  mutate(bet_cent = centrality_betweenness(),
         deg_cent = centrality_degree())</code></pre>
<pre class="r"><code># preparing the circular layout for the network
# Credit to https://www.timlrx.com/2018/10/14/visualising-networks-in-asoiaf-part-ii/ for helping me with the circular layout
full_layout &lt;-
  create_layout(graph = candidates_graph_table,
                layout = &quot;linear&quot;,
                circular = T)

xmin &lt;- min(full_layout$x)
xmax &lt;- max(full_layout$x)
ymin &lt;- min(full_layout$y)
ymax &lt;- max(full_layout$y)

ggraph(
  full_layout,
  layout = &#39;manual&#39;,
  x = x,
  y = y,
  circular = TRUE
) +
  geom_edge_arc(aes(edge_width = n_mentions,
                    alpha = n_mentions,),
                colour = &#39;#540b0e&#39;,) +
  geom_node_point(aes(color = interesting_individuals, size = deg_cent + 40)) +
  geom_node_text(
    aes(
      label = name,
      color = interesting_individuals,
      x = x * 1.15,
      y = y * 1.15,
      angle = ifelse(
        atan(-(x / y)) * (180 / pi) &lt; 0,
        90 + atan(-(x / y)) * (180 / pi),
        270 + atan(-x / y) * (180 / pi)
      )
    ),
    size = 8
  ) +
  scale_color_manual(values = custom_palette) +
  labs(title = &#39;The Network of Interactions Among Democratic Candidates During Democratic Primary Debates&#39;,
       #subtitle = &#39;This graph shows how democtratic candidates mentioned other candidates on the debate stage.&#39;,
       caption = &#39;Visualization: @m_cnakhaee\n\n Source: https://github.com/favstats/demdebates2020&#39;) +
  expand_limits(x = c(xmin - 0.2, xmax + 0.2),
                y = c(ymin - 0.2, ymax + 0.2)) </code></pre>
<p><img src="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/index_files/figure-html/unnamed-chunk-34-1.png" width="2880" /></p>
<p>The results are self-explanatory and satisfying. One also can make an animation and show the network over time.</p>
<p>Now, let’s repeat the same steps and visualize the network for other types of named entities.</p>
</div>
<div id="organization-and-companies-named-entities" class="section level3">
<h3>5.4 Organization and companies named entities</h3>
<pre class="r"><code>non_org &lt;- c(&#39;Trump&#39;,&#39;Vindmen&#39;,&#39;a New Yorker&#39;,&#39;Title&#39;,&#39;Obama&#39;,&quot;Donald Trump&#39;s&quot;,&#39;Bernie&#39;,&#39;state&#39;,&#39;Court&#39;,&#39;Ours&#39;,&#39;Education&#39;)
non_org_laws &lt;- c(&#39;Green New Deal&#39;,&#39;Federal Controlled Substance Act&#39;)

org_graph_table &lt;- candidates %&gt;%
  separate_rows(ORG, sep = &#39;;&#39;) %&gt;%
  filter(!is.na(ORG)) %&gt;%
  mutate(ORG = str_remove_all(ORG, &#39;the &#39;),
         ORG = str_remove_all(ORG, &#39;this &#39;),) %&gt;%
  filter(
    
    speaker %in% interesting_individuals,!ORG %in% non_org,!ORG %in% non_org_laws,
    debate %in% c(6, 7, 8, 9, 10),
    nchar(ORG)&gt;1
  ) %&gt;%
  mutate(from = speaker, to = ORG) %&gt;%
  group_by(from, to) %&gt;%
  summarize(n_mentions = n()) %&gt;%
  ungroup() %&gt;%
  mutate(
    to = case_when(
      to %in% c(&#39;United Nations&#39;,
                &#39;U.N.&#39;,
                &#39;UN&#39;) ~ &#39;United Nations&#39;,
      str_detect(to, &#39;Department&#39;) &amp;
        str_detect(to, &#39;State&#39;) ~ &#39;Department of State&#39;,
      str_detect(to, &#39;Department&#39;) &amp;
        str_detect(to, &#39;Defence&#39;) ~ &#39;Department of State&#39;,
      str_detect(to, &#39;Supreme&#39;) &amp;
        str_detect(to, &#39;Court&#39;) ~ &#39;Supreme Court&#39;,
      str_detect(to, &#39;Treasury&#39;) ~ &#39;Department of the Treasury&#39;,
      str_detect(to, &#39;Unitetd&#39;) &amp;
        str_detect(to, &#39;State&#39;) ~ &#39;United State&#39;,
      str_detect(to, &#39;Yale&#39;) ~ &#39;Yale&#39;,
      TRUE ~ to
    )
  ) %&gt;%
  as_tbl_graph() %&gt;%
  mutate(interesting_individuals = if_else(name %in% interesting_individuals, name, &#39;Others&#39;))</code></pre>
<pre class="r"><code>ggraph(org_graph_table, layout = &#39;nicely&#39;) +
  geom_edge_link(aes(edge_width = n_mentions,alpha=n_mentions),
    colour = &#39;#540b0e&#39;) +
  geom_node_point(aes(color = interesting_individuals), size = 5) +
  geom_node_label(aes(label = name, color = interesting_individuals),
                  repel = TRUE,
                  size = 7) +
  scale_color_manual(values = custom_palette) +
  labs(title = &#39;Organizations and Institutions Mentioned by Top Democratic Candidates During the Debates&#39;,
       subtitle = &#39;This plot shows which organizations and institutions were mentioned by top democratic candidates during the last 5 debates.&#39;,
       caption = &#39;&#39;) </code></pre>
<p><img src="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/index_files/figure-html/unnamed-chunk-36-1.png" width="2880" /></p>
</div>
<div id="the-network-of-named-entities-for-countries-and-cities" class="section level3">
<h3>5.5 The network of named entities for countries and cities</h3>
<pre class="r"><code>gpe_graph_table &lt;- candidates %&gt;%
  separate_rows(GPE, sep = &#39;;&#39;) %&gt;%
  filter(!is.na(GPE)) %&gt;%
  mutate(GPE = str_remove_all(GPE, &#39;the &#39;),
         GPE = str_remove_all(GPE, &#39;this &#39;)) %&gt;%
  filter(speaker %in% interesting_individuals,
         debate %in% c(6, 7, 8, 9, 10)) %&gt;%
  mutate(from = speaker, to = GPE) %&gt;%
  group_by(from, to) %&gt;%
  summarize(n_mentions = n()) %&gt;%
  ungroup() %&gt;%
  as_tbl_graph() %&gt;%
  mutate(interesting_individuals = if_else(name %in% interesting_individuals, name, &#39;Others&#39;)) </code></pre>
<pre class="r"><code>ggraph(gpe_graph_table, layout = &#39;nicely&#39;) +
  geom_edge_link(aes(edge_width = n_mentions, alpha = n_mentions),
                 colour = &#39;#540b0e&#39;) +
  geom_node_point(aes(color = interesting_individuals), size = 5) +
  geom_node_label(aes(label = name, color = interesting_individuals),
                  repel = TRUE,
                  size = 9) +
  scale_color_manual(values = custom_palette) +
  labs(title = &#39;Countries, Cities and States Mentioned by Top Democratic Candidates During the Last Five Primary Debates&#39;,
       subtitle = &#39;&#39;,
       caption = &#39;&#39;) </code></pre>
<p><img src="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/index_files/figure-html/unnamed-chunk-38-1.png" width="3360" /></p>
</div>
<div id="the-network-of-named-entities-for-laws" class="section level3">
<h3>5.6 The network of named entities for laws</h3>
<pre class="r"><code>non_law &lt;-
  c(&#39;the ZIP Code&#39;, &quot;&quot;)

law_graph_table &lt;- candidates %&gt;%
  separate_rows(LAW, sep = &#39;;&#39;) %&gt;%
  filter(!is.na(LAW)) %&gt;%
  mutate(LAW = str_remove_all(LAW, &#39;the &#39;)) %&gt;%
  filter(speaker %in% interesting_individuals,!LAW %in% non_law) %&gt;%
  mutate(from = speaker, to = LAW) %&gt;%
  group_by(from, to) %&gt;%
  summarize(n_mentions = n()) %&gt;%
  ungroup() %&gt;%
  mutate(
    to = case_when(
      str_detect(to , &#39;Constitution&#39;) ~ &#39;Constitution&#39;,
      str_detect(to , &#39;Roe&#39;) ~ &#39;Roe V. Wade&#39;,
      str_detect(to , &#39;War Powers Act&#39;) ~ &#39;War Powers Act&#39;,
      str_detect(to , &#39;New START&#39;) ~ &#39;New START Treaty&#39;,
      TRUE ~ to
    )
  ) %&gt;%
  as_tbl_graph() %&gt;%
  mutate(interesting_individuals = if_else(name %in% interesting_individuals, name, &#39;Others&#39;))</code></pre>
<pre class="r"><code>ggraph(law_graph_table, layout = &#39;nicely&#39;) +
  geom_edge_link(aes(edge_width = n_mentions, alpha = n_mentions), colour = &#39;#540b0e&#39;) +
  geom_node_point(aes(color = interesting_individuals), size = 5) +
  geom_node_label(aes(label = name, color = interesting_individuals),
                  repel = TRUE,
                  size = 7) +
  scale_color_manual(values = custom_palette) +
  labs(title = &#39;Laws Mentioned by Top Democratic Candidates During the First Ten Primary Debates&#39;,
       subtitle = &#39;&#39;,
       caption = &#39;&#39;) </code></pre>
<p><img src="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/index_files/figure-html/unnamed-chunk-40-1.png" width="2880" /></p>
</div>
<div id="the-network-of-named-entities-for-nationalities-religious-or-political-groups" class="section level3">
<h3>5.7 The network of named entities for nationalities, religious or political groups</h3>
<pre class="r"><code>non_norp &lt;- c(&#39;Coronavirus&#39;, &#39;&#39;)
norp_graph_table &lt;- candidates %&gt;%
  separate_rows(NORP, sep = &#39;;&#39;) %&gt;%
  filter(!is.na(NORP)) %&gt;%
  mutate(NORP = singularize(NORP)) %&gt;%
  filter(speaker %in% interesting_individuals,!NORP %in% non_norp,
         debate %in% c(6, 7, 8, 9, 10)) %&gt;%
  mutate(from = speaker, to = NORP) %&gt;%
  group_by(from, to) %&gt;%
  summarize(n_mentions = n()) %&gt;%
  ungroup() %&gt;%
  mutate(
    to = case_when(
      str_detect(to, &#39;African&#39;) &amp;
        str_detect(to, &#39;American&#39;) ~ &#39;African-American&#39;,
      str_detect(to, &#39;republican&#39;) ~ &#39;Republican&#39;,
      str_detect(to, &#39;Democrat&#39;) ~ &#39;Democrat&#39;,
      str_detect(to, &#39;Jew&#39;) ~ &#39;Jew&#39;,
      str_detect(to, &#39;Palestinian&#39;) ~ &#39;Palestinian&#39;,
      TRUE ~ to
    )
  ) %&gt;%
  as_tbl_graph() %&gt;%
  mutate(interesting_individuals = if_else(name %in% interesting_individuals, name, &#39;Others&#39;))</code></pre>
<pre class="r"><code>ggraph(norp_graph_table, layout = &#39;nicely&#39;) +
  geom_edge_link(aes(edge_width = n_mentions, alpha = n_mentions), colour = &#39;#540b0e&#39;) +
  geom_node_point(aes(color = interesting_individuals), size = 5) +
  geom_node_label(aes(label = name, color = interesting_individuals),
                  repel = TRUE,
                  size = 10) +
  scale_color_manual(values = custom_palette) +
  labs(title = &#39;Nationalities, religious or Political Groups Mentioned by Top Democratic Candidates During the Last Five Primary Debates&#39;,
       subtitle = &#39;&#39;,
       caption = &#39;&#39;) </code></pre>
<p><img src="/post/2020-03-08-analayzing-the-2020-democratic-presidential-debates-part-2/index_files/figure-html/unnamed-chunk-42-1.png" width="3840" /></p>
<p>##Resources:
A very useful place to learn more how spacy works the spacy’s online course by one of its founders and developers.
[1] <a href="https://course.spacy.io/en/" class="uri">https://course.spacy.io/en/</a></p>
<p>[2] <a href="https://www.youtube.com/watch?v=IqOJU1-_Fi0&amp;t=676s" class="uri">https://www.youtube.com/watch?v=IqOJU1-_Fi0&amp;t=676s</a></p>
<p>There is
<a href="http://www.favstats.eu/post/demdebates/" class="uri">http://www.favstats.eu/post/demdebates/</a></p>
</div>
</div>

    </div>

    


    

<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/nlp/">NLP</a>
  
  <a class="badge badge-light" href="/tags/python/">Python</a>
  
  <a class="badge badge-light" href="/tags/r/">R</a>
  
  <a class="badge badge-light" href="/tags/social-network-analysis/">social network analysis</a>
  
</div>



    
      








  






  
  
  
    
  
  
  <div class="media author-card">
    
      
      <img class="portrait mr-3" src="/authors/admin/avatar_hub745bfe23d2f8324d7277352a88ce1a8_77169_250x250_fill_q90_lanczos_center.jpg" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title"><a href="/">Muhammad Chenariyan Nakhaee</a></h5>
      <h6 class="card-subtitle">Machine Learning Researcher</h6>
      <p class="card-text">I am Muhammad,a data scientist and machine learning enthusiast</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/m_cnakhaee" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?user=vbXQurwAAAAJ&amp;hl=en" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/mcnakhaee" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://instagram.com/mcnakhaee" target="_blank" rel="noopener">
        <i class="fab fa-instagram"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>



      
      
      <div class="article-widget">
        <div class="hr-light"></div>
        <h3>Related</h3>
        <ul>
          
          <li><a href="/post/2020-02-23-the-most-eloquent-democratic-candidate/">Analyzing the 2020 Democratic Party Presidential Debates - Part 1</a></li>
          
          <li><a href="/post/2020-02-14-tidymodel-for-scikit-learn-users-and-vise-versa/">Tidymodel for Scikit-Learn Users and Vise Versa</a></li>
          
          <li><a href="/post/2020-02-08-going-back-to-the-roots-how-much-influence-did-arabic-have-on-persian-literature/">Going Back to the Roots! How Much Influence Did Arabic Have on Persian Literature?</a></li>
          
          <li><a href="/post/2020-01-18-optimal-rule-lists/">Optimal Rule Lists</a></li>
          
          <li><a href="/post/2020-02-12-analyzing-football-data/">Analyzing Football Data</a></li>
          
        </ul>
      </div>
      
    

    

    
<section id="comments">
  
    

  
</section>



  </div>
</article>

      

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/r.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/python.min.js"></script>
        
      

      
      
    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin="anonymous"></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    <script id="dsq-count-scr" src="https://.disqus.com/count.js" async></script>
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.0bf1e3db85cbb232372ed31d6f10dc70.js"></script>

    






  
  <div class="container">
    <footer class="site-footer">
  
  <p class="powered-by">
    
      <a href="/otherwidget/privacy/">Privacy Policy</a>
    
    
       &middot; 
      <a href="/otherwidget/terms/">Terms</a>
    
  </p>
  
  
  
   
  <script>
  $(document).ready(function () {
    window.initializeCodeFolding("show" === "hide");
  });
  </script>
  <script src="/js/codefolding.js"></script>



  <p class="powered-by">
    

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
